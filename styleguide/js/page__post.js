(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var _matchElem = function(el, cls) {
    return el.classList && el.classList.contains(cls.replace(/^\./, ''));
};

/**
 * Add delegate event listener
 * @param  {Element}  elem
 * @param  {String}   cls        class name
 * @param  {String}   eventName  event name
 * @param  {Function} fn         callback
 * @return {undefined}
 */
module.exports = function(elem, cls, eventName, fn) {
    elem.addEventListener(eventName, function(e) {
        var el = e.target;

        while (true) {
            if (_matchElem(el, cls)) {
                fn.call(el, e);
                break;
            } else {
                el = el.parentNode;
            }

            if (!el) { break; }
        }
    }, false);
};

},{}],2:[function(require,module,exports){
/*! PhotoSwipe Default UI - 4.0.3 - 2015-01-03
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / "},A=function(a){if(r)return!0;a=a||window.event;for(var c,d,e=a.target||a.srcElement,f=e.className,g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>1200},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),c.href?c.hasAttribute("download")?!0:(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom=g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.className&&a.type.indexOf("mouse")>-1&&(d.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,D()},v.updateFullscreen=function(){C(a.template,"fs",c.isFullscreen())},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType)I(d)&&a.close(),b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?a.close():a.toggleDesktopZoom(c.detail.releasePoint));else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});
},{}],3:[function(require,module,exports){
/*! PhotoSwipe - v4.0.3 - 2015-01-05
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.5},maxSpreadZoom:2,scaleMode:"fit",modal:!0,alwaysFadeIn:!1};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb=function(){return{x:0,y:0}},ob=nb(),pb=nb(),qb=nb(),rb={},sb=0,tb=nb(),ub=0,vb=!0,wb=[],xb={},yb=function(a,b){e.extend(f,b.publicMethods),wb.push(a)},zb=function(a){var b=_c();return a>b-1?a-b:0>a?b+a:a},Ab={},Bb=function(a,b){return Ab[a]||(Ab[a]=[]),Ab[a].push(b)},Cb=function(a){var b=Ab[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Db=function(){return(new Date).getTime()},Eb=function(a){kb=a,f.bg.style.opacity=a*i.bgOpacity},Fb=function(a,b,c,d){a[G]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Gb=function(){fb&&Fb(fb,qb.x,qb.y,s)},Hb=function(a){a.container&&Fb(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel)},Ib=function(a,b){b[G]=u+a+"px, 0px"+v},Jb=function(a,b){if(!i.loop&&b){var c=m+(tb.x*sb-a)/tb.x,d=Math.round(a-sc.x);(0>c&&d>0||c>=_c()-1&&0>d)&&(a=sc.x+d*i.mainScrollEndFriction)}sc.x=a,Ib(a,n)},Kb=function(a,b){var c=tc[a]-y[a];return pb[a]+ob[a]+c-c*(b/t)},Lb=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Mb=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Nb=null,Ob=function(){Nb&&(e.unbind(document,"mousemove",Ob),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Cb("mouseUsed")),Nb=setTimeout(function(){Nb=null},100)},Pb=function(){e.bind(document,"keydown",f),P.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Ob),e.bind(window,"resize scroll",f),Cb("bindEvents")},Qb=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Ob),P.transform&&e.unbind(f.scrollWrap,"click",f),W&&e.unbind(window,p,f),Cb("unbindEvents")},Rb=function(a,b){var c=hd(f.currItem,rb,a);return b&&(eb=c),c},Sb=function(a){return a||(a=f.currItem),a.initialZoomLevel},Tb=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ub=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Kb(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Vb=function(){if(G){var b=P.perspective&&!I;return u="translate"+(b?"3d(":"("),void(v=P.perspective?", 0px)":")")}G="left",e.addClass(a,"pswp--ie"),Ib=function(a,b){b.left=a+"px"},Hb=function(a){var b=a.container.style,c=a.fitRatio*a.w,d=a.fitRatio*a.h;b.width=c+"px",b.height=d+"px",b.left=a.initialPosition.x+"px",b.top=a.initialPosition.y+"px"},Gb=function(){if(fb){var a=fb,b=f.currItem,c=b.fitRatio*b.w,d=b.fitRatio*b.h;a.width=c+"px",a.height=d+"px",a.left=qb.x+"px",a.top=qb.y+"px"}}},Wb=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xb=function(a){a&&(Z||Y||gb||U)&&(a.preventDefault(),a.stopPropagation())},Yb=function(){z=!0,i.closeOnScroll&&j&&(!f.likelyTouchDevice||i.mouseUsed)&&Math.abs(e.getScrollY()-M)>2&&(l=!0,f.close())},Zb={},$b=0,_b=function(a){Zb[a]&&(Zb[a].raf&&K(Zb[a].raf),$b--,delete Zb[a])},ac=function(a){Zb[a]&&_b(a),Zb[a]||($b++,Zb[a]={})},bc=function(){for(var a in Zb)Zb.hasOwnProperty(a)&&_b(a)},cc=function(a,b,c,d,e,f,g){var h,i=Db();ac(a);var j=function(){if(Zb[a]){if(h=Db()-i,h>=d)return _b(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Zb[a].raf=J(j)}};j()},dc={shout:Cb,listen:Bb,viewportSize:rb,options:i,isMainScrollAnimating:function(){return gb},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return W},isZooming:function(){return bb},applyZoomPan:function(a,b,c){qb.x=b,qb.y=c,s=a,Gb()},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),L=a.className,j=!0,P=e.detectFeatures(),J=P.raf,K=P.caf,G=P.transform,N=P.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=A=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],A[0].el.style.display=A[2].el.style.display="none",Vb(),r={resize:f.updateSize,scroll:Yb,keydown:Wb,click:Xb};var d=P.isOldIOSPhone||P.isOldAndroid||P.isMobileOpera;for(P.animationName&&P.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<wb.length;c++)f["init"+wb[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Cb("firstUpdate"),m=m||i.index||0,(isNaN(m)||0>m||m>=_c())&&(m=0),f.currItem=$c(m),(P.isOldIOSPhone||P.isOldAndroid)&&(vb=!1),i.modal&&(a.setAttribute("aria-hidden","false"),vb?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===O&&(Cb("initialLayout"),O=M=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=I?"pswp--touch":"pswp--notouch",l+=P.animationName?" pswp--css_animation":"",l+=P.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ub=null,c=0;h>c;c++)Ib((c+o)*tb.x,A[c].el.style);N||e.bind(f.scrollWrap,q,f),Bb("initialZoomInEnd",function(){f.setContent(A[0],m-1),f.setContent(A[2],m+1),A[0].el.style.display=A[2].el.style.display="block",i.focus&&a.focus(),Pb()}),f.setContent(A[1],m),f.updateCurrItem(),Cb("afterInit"),vb||(w=setInterval(function(){$b||W||bb||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Cb("close"),Qb(),bd(f.currItem,null,!0,f.destroy))},destroy:function(){Cb("destroy"),Wc&&clearTimeout(Wc),i.modal&&(a.setAttribute("aria-hidden","true"),a.className=L),w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),yc(),bc(),Ab=null},panTo:function(a,b,c){c||(a>eb.min.x?a=eb.min.x:a<eb.max.x&&(a=eb.max.x),b>eb.min.y?b=eb.min.y:b<eb.max.y&&(b=eb.max.y)),qb.x=a,qb.y=b,Gb()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=zb(a);var b=a-m;ub=b,m=a,f.currItem=$c(m),sb-=b,Jb(tb.x*sb),bc(),gb=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Cb("beforeChange",0),A[1].el.children.length){var b=A[1].el.children[0];fb=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else fb=null;eb=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,qb.x=eb.center.x,qb.y=eb.center.y,a&&Cb("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)A[a].item&&(A[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ub){var b,c=Math.abs(ub);if(!(a&&2>c)){f.currItem=$c(m),Cb("beforeChange",ub),c>=h&&(o+=ub+(ub>0?-h:h),c=h);for(var d=0;c>d;d++)ub>0?(b=A.shift(),A[h-1]=b,o++,Ib((o+2)*tb.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=A.pop(),A.unshift(b),o--,Ib(o*tb.x,b.el.style),f.setContent(b,m+c-d-1-1));if(fb&&1===Math.abs(ub)){var e=$c(B);e.initialZoomLevel!==s&&(hd(e,rb),Hb(e))}ub=0,f.updateCurrZoomItem(),B=m,Cb("afterChange")}}},updateSize:function(b){if(!vb){var c=e.getScrollY();if(O!==c&&(a.style.top=c+"px",O=c),!b&&xb.x===window.innerWidth&&xb.y===window.innerHeight)return;xb.x=window.innerWidth,xb.y=window.innerHeight,a.style.height=xb.y+"px"}if(rb.x=f.scrollWrap.clientWidth,rb.y=f.scrollWrap.clientHeight,y={x:0,y:O},tb.x=rb.x+Math.round(rb.x*i.spacing),tb.y=rb.y,Jb(tb.x*sb),Cb("beforeResize"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=A[k],Ib((k+o)*tb.x,d.el.style),j=zb(m+k-1),g=$c(j),x||g.needsUpdate||!g.bounds?(g&&f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hd(g,rb),Hb(g));x=!1}t=s=f.currItem.initialZoomLevel,eb=f.currItem.bounds,eb&&(qb.x=eb.center.x,qb.y=eb.center.y,Gb()),Cb("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,tc.x=Math.abs(b.x)-qb.x,tc.y=Math.abs(b.y)-qb.y,Lb(pb,qb));var g=Rb(a,!1),h={};Ub("x",g,h,a),Ub("y",g,h,a);var i=s,j={x:qb.x,y:qb.y};Mb(h);var k=function(b){1===b?(s=a,qb.x=h.x,qb.y=h.y):(s=(a-i)*b+i,qb.x=(h.x-j.x)*b+j.x,qb.y=(h.y-j.y)*b+j.y),f&&f(b),Gb()};c?cc("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},ec=30,fc=10,gc={},hc={},ic={},jc={},kc={},lc=[],mc={},nc=[],oc={},pc=0,qc=nb(),rc=0,sc=nb(),tc=nb(),uc=nb(),vc=function(a,b){return a.x===b.x&&a.y===b.y},wc=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xc=function(a,b){return oc.x=Math.abs(a.x-b.x),oc.y=Math.abs(a.y-b.y),Math.sqrt(oc.x*oc.x+oc.y*oc.y)},yc=function(){$&&(K($),$=null)},zc=function(){W&&($=J(zc),Pc())},Ac=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bc=function(a,b){return a?a.className&&a.className.indexOf("pswp__scroll-wrap")>-1?!1:b(a)?a:Bc(a.parentNode,b):!1},Cc={},Dc=function(a,b){return Cc.prevent=!Bc(a.target,i.isClickableElement),Cb("preventDragEvent",a,b,Cc),Cc.prevent},Ec=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fc=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gc=function(a,b,c){if(a-R>50){var d=nc.length>2?nc.shift():{};d.x=b,d.y=c,nc.push(d),R=a}},Hc=function(){var a=qb.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(rb.y/2))},Ic={},Jc={},Kc=[],Lc=function(a){for(;Kc.length>0;)Kc.pop();return H?(mb=0,lc.forEach(function(a){0===mb?Kc[0]=a:1===mb&&(Kc[1]=a),mb++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Kc[0]=Ec(a.touches[0],Ic),a.touches.length>1&&(Kc[1]=Ec(a.touches[1],Jc))):(Ic.x=a.pageX,Ic.y=a.pageY,Ic.id="",Kc[0]=Ic),Kc},Mc=function(a,b){var c,d,e,g,h=0,j=qb[a]+b[a],k=b[a]>0,l=sc.x+b.x,m=sc.x-mc.x;return c=j>eb.min[a]||j<eb.max[a]?i.panEndFriction:1,j=qb[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(fb?"h"!==hb||"x"!==a||Y||(k?(j>eb.min[a]&&(c=i.panEndFriction,h=eb.min[a]-j,d=eb.min[a]-pb[a]),(0>=d||0>m)&&_c()>1?(g=l,0>m&&l>mc.x&&(g=mc.x)):eb.min.x!==eb.max.x&&(e=j)):(j<eb.max[a]&&(c=i.panEndFriction,h=j-eb.max[a],d=pb[a]-eb.max[a]),(0>=d||m>0)&&_c()>1?(g=l,m>0&&l<mc.x&&(g=mc.x)):eb.min.x!==eb.max.x&&(e=j))):g=l,"x"!==a)?void(gb||_||s>f.currItem.fitRatio&&(qb[a]+=b[a]*c)):(void 0!==g&&(Jb(g,!0),_=g===mc.x?!1:!0),eb.min.x!==eb.max.x&&(void 0!==e?qb.x=e:_||(qb.x+=b.x*c)),void 0!==g)},Nc=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Zc)return void a.preventDefault();if(!V||"mousedown"!==a.type){if(Dc(a,!0)&&a.preventDefault(),Cb("pointerDown"),H){var b=e.arraySearch(lc,a.pointerId,"id");0>b&&(b=lc.length),lc[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lc(a),d=c.length;ab=null,bc(),W&&1!==d||(W=ib=!0,e.bind(window,p,f),T=lb=jb=U=_=Z=X=Y=!1,hb=null,Cb("firstTouchStart",c),Lb(pb,qb),ob.x=ob.y=0,Lb(jc,c[0]),Lb(kc,jc),mc.x=tb.x*sb,nc=[{x:jc.x,y:jc.y}],R=Q=Db(),Rb(s,!0),yc(),zc()),!bb&&d>1&&!gb&&!_&&(t=s,Y=!1,bb=X=!0,ob.y=ob.x=0,Lb(pb,qb),Lb(gc,c[0]),Lb(hc,c[1]),Fc(gc,hc,uc),tc.x=Math.abs(uc.x)-qb.x,tc.y=Math.abs(uc.y)-qb.y,cb=db=xc(gc,hc))}}},Oc=function(a){if(a.preventDefault(),H){var b=e.arraySearch(lc,a.pointerId,"id");if(b>-1){var c=lc[b];c.x=a.pageX,c.y=a.pageY}}if(W){var d=Lc(a);if(hb||Z||bb)ab=d;else{var f=Math.abs(d[0].x-jc.x)-Math.abs(d[0].y-jc.y);Math.abs(f)>=fc&&(hb=f>0?"h":"v",ab=d)}}},Pc=function(){if(ab){var a=ab.length;if(0!==a)if(Lb(gc,ab[0]),ic.x=gc.x-jc.x,ic.y=gc.y-jc.y,bb&&a>1){if(jc.x=gc.x,jc.y=gc.y,!ic.x&&!ic.y&&vc(ab[1],hc))return;Lb(hc,ab[1]),Y||(Y=!0,Cb("zoomGestureStarted"));var b=xc(gc,hc),c=Uc(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(lb=!0);var d=1,e=Sb(),g=Tb();if(e>c)if(i.pinchToClose&&!lb&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Eb(j),Cb("onPinchClose",j),jb=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),cb=b,Fc(gc,hc,qc),ob.x+=qc.x-uc.x,ob.y+=qc.y-uc.y,Lb(uc,qc),qb.x=Kb("x",c),qb.y=Kb("y",c),T=c>s,s=c,Gb()}else{if(!hb)return;if(ib&&(ib=!1,Math.abs(ic.x)>=fc&&(ic.x-=ab[0].x-kc.x),Math.abs(ic.y)>=fc&&(ic.y-=ab[0].y-kc.y)),jc.x=gc.x,jc.y=gc.y,0===ic.x&&0===ic.y)return;if("v"===hb&&i.closeOnVerticalDrag&&!Ac()){ob.y+=ic.y,qb.y+=ic.y;var k=Hc();return U=!0,Cb("onVerticalDrag",k),Eb(k),void Gb()}Gc(Db(),gc.x,gc.y),Z=!0,eb=f.currItem.bounds;var l=Mc("x",ic);l||(Mc("y",ic),Mb(qb),Gb())}}},Qc=function(a){if(P.isOldAndroid){if(V&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(V),V=setTimeout(function(){V=0},600))}Cb("pointerUp"),Dc(a,!1)&&a.preventDefault();var b;if(H){var c=e.arraySearch(lc,a.pointerId,"id");if(c>-1)if(b=lc.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Lc(a),i=h.length;if("mouseup"===a.type&&(i=0),2===i)return ab=null,!0;1===i&&Lb(kc,h[0]),0!==i||hb||gb||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Cb("touchRelease",a,b));var j=-1;if(0===i&&(W=!1,e.unbind(window,p,f),yc(),bb?j=0:-1!==rc&&(j=Db()-rc)),rc=1===i?Db():-1,g=-1!==j&&150>j?"zoom":"swipe",bb&&2>i&&(bb=!1,1===i&&(g="zoomPointerUp"),Cb("zoomGestureEnded")),ab=null,Z||Y||gb||U)if(bc(),S||(S=Rc()),S.calculateSwipeSpeed("x"),U){var k=Hc();if(.6>k)f.close();else{var l=qb.y,m=kb;cc("verticalDrag",0,1,300,e.easing.cubic.out,function(a){qb.y=(f.currItem.initialPosition.y-l)*a+l,Eb((1-m)*a+m),Gb()}),Cb("onVerticalDrag",1)}}else{if((_||gb)&&0===i){var n=Tc(g,S);if(n)return;g="zoomPointerUp"}if(!gb)return"swipe"!==g?void Vc():void(!_&&s>f.currItem.fitRatio&&Sc(S))}},Rc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nc.length>1?(a=Db()-R+50,b=nc[nc.length-2][d]):(a=Db()-Q,b=kc[d]),c.lastFlickOffset[d]=jc[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickSpeed[d]=c.lastFlickDist[d]>20?c.lastFlickOffset[d]/a:0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(qb[a]>eb.min[a]?c.backAnimDestination[a]=eb.min[a]:qb[a]<eb.max[a]&&(c.backAnimDestination[a]=eb.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cc("bounceZoomPan"+a,qb[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){qb[a]=b,Gb()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,qb[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Zb.zoomPan&&(Zb.zoomPan.raf=J(c.panAnimLoop),c.now=Db(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Gb(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(qb.x=Math.round(qb.x),qb.y=Math.round(qb.y),Gb(),void _b("zoomPan")):void 0}};return c},Sc=function(a){return a.calculateSwipeSpeed("y"),eb=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(ac("zoomPan"),a.lastNow=Db(),void a.panAnimLoop())},Tc=function(a,b){var c;gb||(pc=m);var d;if("swipe"===a){var g=jc.x-kc.x,h=b.lastFlickDist.x<10;g>ec&&(h||b.lastFlickOffset.x>20)?d=-1:-ec>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_c()-1:0,j=!0):m>=_c()&&(m=i.loop?0:_c()-1,j=!0),(!j||i.loop)&&(ub+=d,sb-=d,c=!0));var k,l=tb.x*sb,n=Math.abs(l-sc.x);return c||l>sc.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pc===m&&(c=!1),gb=!0,cc("mainScroll",sc.x,l,k,e.easing.cubic.out,Jb,function(){bc(),gb=!1,pc=-1,(c||pc!==m)&&f.updateCurrItem(),Cb("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Uc=function(a){return 1/db*a*t},Vc=function(){var a=s,b=Sb(),c=Tb();b>s?a=b:s>c&&(a=c);var d,g=1,h=kb;return jb&&!T&&!lb&&b>s?(f.close(),!0):(jb&&(d=function(a){Eb((g-h)*a+h)}),f.zoomTo(a,0,300,e.easing.cubic.out,d),!0)};yb("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){C=a+b,D=a+c,E=a+d,F=e?a+e:""};H=P.pointerEvent,H&&P.touch&&(P.touch=!1),H?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):P.touch?(a("touch","start","move","end","cancel"),I=!0):a("mouse","down","move","up"),p=D+" "+E+" "+F,q=C,H&&!I&&(I=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=I,r[C]=Nc,r[D]=Oc,r[E]=Qc,F&&(r[F]=r[E]),P.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[C],r.mousemove=r[D],r.mouseup=r[E]),I||(i.allowPanToNext=!1)}}});var Wc,Xc,Yc,Zc,$c,_c,ad,bd=function(b,c,d,g){Wc&&clearTimeout(Wc),Zc=!0,Yc=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_b("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Eb(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Cb("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Zc=!1};if(!j||!h||void 0===h.x){var n=function(){Cb("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,Lb(qb,b.initialPosition),Gb(),a.style.opacity=d?0:1,Eb(1),k()};return void n()}var o=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,qb.x=h.x,qb.y=h.y-M,f[g?"template":"bg"].style.opacity=.001,Gb()),ac("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Wc=setTimeout(function(){if(Cb("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:qb.x,y:qb.y},l=s,m=M,n=kb,o=function(b){z&&(m=e.getScrollY(),z=!1),1===b?(s=f,qb.x=h.x,qb.y=h.y-m):(s=(f-l)*b+l,qb.x=(h.x-i.x)*b+i.x,qb.y=(h.y-m-i.y)*b+i.y),Gb(),g?a.style.opacity=1-b:Eb(n-b*n)};c?cc("initialZoom",0,1,j,e.easing.cubic.out,o,k):(o(1),Wc=setTimeout(k,j+20))}else s=b.initialZoomLevel,Lb(qb,b.initialPosition),Gb(),Eb(1),g?a.style.opacity=1:Eb(1),Wc=setTimeout(k,j+20)},d?25:90)};o()},cd={},dd=[],ed={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xc.length}},fd=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gd=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cd.x-b)/2),d.center.y=Math.round((cd.y-c)/2)+a.vGap.top,d.max.x=b>cd.x?Math.round(cd.x-b):d.center.x,d.max.y=c>cd.y?Math.round(cd.y-c)+a.vGap.top:d.center.y,d.min.x=b>cd.x?0:d.center.x,d.min.y=c>cd.y?a.vGap.top:d.center.y},hd=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Cb("parseVerticalMargin",a)),cd.x=b.x,cd.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cd.x/a.w,f=cd.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fd())}if(!c)return;return gd(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fd(),a.initialPosition=a.bounds.center,a.bounds},id=function(a,b,c,d,e,g){if(!b.loadError){var h,j=f.isDragging()&&!f.isZooming(),k=a===m||f.isMainScrollAnimating()||j;!e&&(I||i.alwaysFadeIn)&&k&&(h=!0),d&&(h&&(d.style.opacity=0),b.imageAppended=!0,c.appendChild(d),h&&setTimeout(function(){d.style.opacity=1,g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500)},50))}},jd=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kd=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0):void 0},ld=function(){if(dd.length){for(var a,b=0;b<dd.length;b++)a=dd[b],a.holder.index===a.index&&id(a.index,a.item,a.baseDiv,a.img);dd=[]}};yb("Controller",{publicMethods:{lazyLoadItem:function(a){a=zb(a);var b=$c(a);b&&b.src&&!b.loaded&&!b.loading&&(Cb("gettingData",a,b),jd(b))},initController:function(){e.extend(i,ed,!0),f.items=Xc=c,$c=f.getItemAt,_c=i.getNumItemsFn,ad=i.loop,_c()<3&&(i.loop=!1),Bb("beforeChange",function(a){var b,c=i.preload,d=null===a?!0:a>0,e=Math.min(c[0],_c()),g=Math.min(c[1],_c());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Bb("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Bb("mainScrollAnimComplete",ld),Bb("initialZoomInEnd",ld),Bb("destroy",function(){for(var a,b=0;b<Xc.length;b++)a=Xc[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dd=null})},getItemAt:function(a){return a>=0&&void 0!==Xc[a]?Xc[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!I||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=zb(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Cb("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kd(g),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.webkitBackfaceVisibility="hidden",d.style.opacity=1,d.src=g.src,id(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(c.img.style.webkitBackfaceVisibility="hidden",a&&a.index===b){if(kd(c,!0))return c.loadComplete=c.img=null,hd(c,rb),Hb(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zc&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):P.transform&&(gb||Zc)?dd.push({item:c,baseDiv:h,img:c.img,index:b,holder:a}):id(b,c,h,c.img,gb||Zc)}c.loadComplete=null,c.img=null,Cb("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),l.style.width=g.w+"px",l.style.height=g.h+"px",h.appendChild(l),g.placeholder=l}g.loading||jd(g),f.allowProgressiveImg()&&(!Yc&&P.transform?dd.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):id(b,g,h,g.img,!0,!0))}hd(g,rb),Yc||b!==m?Hb(g):(fb=h.style,bd(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var md,nd={},od=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};yb("Tap",{publicMethods:{initTap:function(){Bb("firstTouchStart",f.onTapStart),Bb("touchRelease",f.onTapRelease),Bb("destroy",function(){nd={},md=null})},onTapStart:function(a){a.length>1&&(clearTimeout(md),md=null)},onTapRelease:function(a,b){if(b&&!Z&&!X&&!$b){var c=b;if(md&&(clearTimeout(md),md=null,wc(c,nd)))return void Cb("doubleTap",c);if("mouse"===b.type)return void od(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void od(a,b);Lb(nd,c),md=setTimeout(function(){od(a,b),md=null},300)}}}});var pd;yb("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(I?Bb("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){pd={};var c="wheel mousewheel DOMMouseScroll";Bb("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Bb("unbindEvents",function(){pd&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),1>s?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Bb("resize",g),Bb("afterChange",g),Bb("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Bb("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.closeOnScroll||a.preventDefault(),!0;if(a.preventDefault(),a.stopPropagation(),pd.x=0,"deltaX"in a)pd.x=a.deltaX,pd.y=a.deltaY;else if("wheelDelta"in a)a.wheelDeltaX&&(pd.x=-.16*a.wheelDeltaX),pd.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else{if(!("detail"in a))return;pd.y=a.detail}Rb(s,!0),f.panTo(qb.x-pd.x,qb.y-pd.y)},toggleDesktopZoom:function(b){b=b||{x:rb.x/2,y:rb.y/2+M};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd={history:!0,galleryUID:1},Dd=function(){return Ad.hash.substring(1)},Ed=function(){qd&&clearTimeout(qd),sd&&clearTimeout(sd)},Fd=function(){var a=Dd(),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.pid=parseInt(b.pid,10)-1,b.pid<0&&(b.pid=0),b},Gd=function(){if(sd&&clearTimeout(sd),$b||W)return void(sd=setTimeout(Gd,500));td?clearTimeout(rd):td=!0;var a=wd+"&gid="+i.galleryUID+"&pid="+(m+1);xd||-1===Ad.hash.indexOf(a)&&(zd=!0);var b=Ad.href.split("#")[0]+"#"+a;Bd?"#"+a!==window.location.hash&&history[xd?"replaceState":"pushState"]("",document.title,b):xd?Ad.replace(b):Ad.hash=a,xd=!0,rd=setTimeout(function(){td=!1},60)};yb("History",{publicMethods:{initHistory:function(){if(e.extend(i,Cd,!0),i.history){Ad=window.location,zd=!1,yd=!1,xd=!1,wd=Dd(),Bd="pushState"in history,wd.indexOf("gid=")>-1&&(wd=wd.split("&gid=")[0],wd=wd.split("?gid=")[0]),Bb("afterChange",f.updateURL),Bb("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){vd=!0,yd||(zd?history.back():wd?Ad.hash=wd:Bd?history.pushState("",document.title,Ad.pathname+Ad.search):Ad.hash=""),Ed()};Bb("unbindEvents",function(){l&&a()}),Bb("destroy",function(){vd||a()}),Bb("firstUpdate",function(){m=Fd().pid});var b=wd.indexOf("pid=");b>-1&&(wd=wd.substring(0,b),"&"===wd.slice(-1)&&(wd=wd.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Dd()===wd?(yd=!0,void f.close()):void(td||(ud=!0,f.goTo(Fd().pid),ud=!1))},updateURL:function(){Ed(),ud||(xd?qd=setTimeout(Gd,800):Gd())}}}),e.extend(f,dc)};return a});
},{}],4:[function(require,module,exports){
var delegateEvent = require('../_delegate-event/_delegate-event.js'),

    $_searchPanel = document.querySelector('.search'),
    $_searchForm = document.querySelector('.search__form'),
    $_searchInput = document.querySelector('.search__input'),
    $_searchClose = document.querySelector('.search__close'),

    _close = function() {
        $_searchPanel.classList.remove('-active');
        $_searchInput.blur();
        $_searchInput.value = '';
    };

module.exports = function() {

    delegateEvent(document, '.search-trigger', 'click', function(e) {
        e.preventDefault();

        $_searchPanel.classList.add('-active');
        $_searchInput.focus();
    });

    $_searchForm.addEventListener('submit', function(e) {
        $_searchInput.value = 'site:sysoev.org ' + $_searchInput.value;

        setTimeout(function() {
            _close();
        }, 50);
    });

    $_searchClose.addEventListener('click', function(e) {
        _close();
    });

    document.addEventListener('keydown', function(e) {
        if (e.keyCode === 27) {
            _close();
        }
    });

};

},{"../_delegate-event/_delegate-event.js":1}],5:[function(require,module,exports){
require('../components/_search/_search.js')();

var PhotoSwipe = require('../components/_photoswipe/photoswipe.min.js'),
    PhotoSwipeUI_Default = require('../components/_photoswipe/photoswipe-ui-default.min.js'),
    delegateEvent = require('../components/_delegate-event/_delegate-event.js'),

    pswpElement = document.querySelector('.pswp'),

    openPhotoSwipe = function(e) {
        e.preventDefault();

        var item, size, gallery;

        size = this.getAttribute('data-size').split('x');

        items = [{
            src: this.href,
            w: size[0],
            h: size[1],
            title: this.getAttribute('data-desc')
        }];

        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {});
        gallery.init();
    };

delegateEvent(document, '.lightbox-target', 'click', openPhotoSwipe);

},{"../components/_delegate-event/_delegate-event.js":1,"../components/_photoswipe/photoswipe-ui-default.min.js":2,"../components/_photoswipe/photoswipe.min.js":3,"../components/_search/_search.js":4}]},{},[5])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zeXNvZXYvRGV2ZWxvcG1lbnQvSmF2YVNjcmlwdC9zeXNvZXYub3JnL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9zeXNvZXYvRGV2ZWxvcG1lbnQvSmF2YVNjcmlwdC9zeXNvZXYub3JnL3NyYy9sYXlvdXQvY29tcG9uZW50cy9fZGVsZWdhdGUtZXZlbnQvX2RlbGVnYXRlLWV2ZW50LmpzIiwiL1VzZXJzL3N5c29ldi9EZXZlbG9wbWVudC9KYXZhU2NyaXB0L3N5c29ldi5vcmcvc3JjL2xheW91dC9jb21wb25lbnRzL19waG90b3N3aXBlL3Bob3Rvc3dpcGUtdWktZGVmYXVsdC5taW4uanMiLCIvVXNlcnMvc3lzb2V2L0RldmVsb3BtZW50L0phdmFTY3JpcHQvc3lzb2V2Lm9yZy9zcmMvbGF5b3V0L2NvbXBvbmVudHMvX3Bob3Rvc3dpcGUvcGhvdG9zd2lwZS5taW4uanMiLCIvVXNlcnMvc3lzb2V2L0RldmVsb3BtZW50L0phdmFTY3JpcHQvc3lzb2V2Lm9yZy9zcmMvbGF5b3V0L2NvbXBvbmVudHMvX3NlYXJjaC9fc2VhcmNoLmpzIiwiL1VzZXJzL3N5c29ldi9EZXZlbG9wbWVudC9KYXZhU2NyaXB0L3N5c29ldi5vcmcvc3JjL2xheW91dC9qcy9mYWtlXzZmYzEyMzRjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgX21hdGNoRWxlbSA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcbiAgICByZXR1cm4gZWwuY2xhc3NMaXN0ICYmIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbHMucmVwbGFjZSgvXlxcLi8sICcnKSk7XG59O1xuXG4vKipcbiAqIEFkZCBkZWxlZ2F0ZSBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtICB7RWxlbWVudH0gIGVsZW1cbiAqIEBwYXJhbSAge1N0cmluZ30gICBjbHMgICAgICAgIGNsYXNzIG5hbWVcbiAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudE5hbWUgIGV2ZW50IG5hbWVcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICAgICAgIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZWxlbSwgY2xzLCBldmVudE5hbWUsIGZuKSB7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWwgPSBlLnRhcmdldDtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKF9tYXRjaEVsZW0oZWwsIGNscykpIHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGVsLCBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVsKSB7IGJyZWFrOyB9XG4gICAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG59O1xuIiwiLyohIFBob3RvU3dpcGUgRGVmYXVsdCBVSSAtIDQuMC4zIC0gMjAxNS0wMS0wM1xuKiBodHRwOi8vcGhvdG9zd2lwZS5jb21cbiogQ29weXJpZ2h0IChjKSAyMDE1IERtaXRyeSBTZW1lbm92OyAqL1xuIWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShiKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6YS5QaG90b1N3aXBlVUlfRGVmYXVsdD1iKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHY9dGhpcyx3PSExLHg9ITAseT0hMCx6PXtiYXJzU2l6ZTp7dG9wOjQ0LGJvdHRvbTpcImF1dG9cIn0sY2xvc2VFbENsYXNzZXM6W1wiaXRlbVwiLFwiY2FwdGlvblwiLFwiem9vbS13cmFwXCIsXCJ1aVwiLFwidG9wLWJhclwiXSx0aW1lVG9JZGxlOjRlMyx0aW1lVG9JZGxlT3V0c2lkZToxZTMsbG9hZGluZ0luZGljYXRvckRlbGF5OjFlMyxhZGRDYXB0aW9uSFRNTEZuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudGl0bGU/KGIuY2hpbGRyZW5bMF0uaW5uZXJIVE1MPWEudGl0bGUsITApOihiLmNoaWxkcmVuWzBdLmlubmVySFRNTD1cIlwiLCExKX0sY2xvc2VFbDohMCxjYXB0aW9uRWw6ITAsZnVsbHNjcmVlbkVsOiEwLHpvb21FbDohMCxzaGFyZUVsOiEwLGNvdW50ZXJFbDohMCxhcnJvd0VsOiEwLHByZWxvYWRlckVsOiEwLHRhcFRvQ2xvc2U6ITEsdGFwVG9Ub2dnbGVDb250cm9sczohMCxzaGFyZUJ1dHRvbnM6W3tpZDpcImZhY2Vib29rXCIsbGFiZWw6XCJTaGFyZSBvbiBGYWNlYm9va1wiLHVybDpcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt7dXJsfX1cIn0se2lkOlwidHdpdHRlclwiLGxhYmVsOlwiVHdlZXRcIix1cmw6XCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PXt7dGV4dH19JnVybD17e3VybH19XCJ9LHtpZDpcInBpbnRlcmVzdFwiLGxhYmVsOlwiUGluIGl0XCIsdXJsOlwiaHR0cDovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9e3t1cmx9fSZtZWRpYT17e2ltYWdlX3VybH19JmRlc2NyaXB0aW9uPXt7dGV4dH19XCJ9LHtpZDpcImRvd25sb2FkXCIsbGFiZWw6XCJEb3dubG9hZCBpbWFnZVwiLHVybDpcInt7cmF3X2ltYWdlX3VybH19XCIsZG93bmxvYWQ6ITB9XSxnZXRJbWFnZVVSTEZvclNoYXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGEuY3Vyckl0ZW0uc3JjfHxcIlwifSxnZXRQYWdlVVJMRm9yU2hhcmU6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWZ9LGdldFRleHRGb3JTaGFyZTpmdW5jdGlvbigpe3JldHVybiBhLmN1cnJJdGVtLnRpdGxlfHxcIlwifSxpbmRleEluZGljYXRvclNlcDpcIiAvIFwifSxBPWZ1bmN0aW9uKGEpe2lmKHIpcmV0dXJuITA7YT1hfHx3aW5kb3cuZXZlbnQ7Zm9yKHZhciBjLGQsZT1hLnRhcmdldHx8YS5zcmNFbGVtZW50LGY9ZS5jbGFzc05hbWUsZz0wO2c8Uy5sZW5ndGg7ZysrKWM9U1tnXSxjLm9uVGFwJiZmLmluZGV4T2YoXCJwc3dwX19cIitjLm5hbWUpPi0xJiYoYy5vblRhcCgpLGQ9ITApO2lmKGQpe2Euc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLHI9ITA7dmFyIGg9Yi5mZWF0dXJlcy5pc09sZEFuZHJvaWQ/NjAwOjMwO3M9c2V0VGltZW91dChmdW5jdGlvbigpe3I9ITF9LGgpfX0sQj1mdW5jdGlvbigpe3JldHVybiFhLmxpa2VseVRvdWNoRGV2aWNlfHxxLm1vdXNlVXNlZHx8c2NyZWVuLndpZHRoPjEyMDB9LEM9ZnVuY3Rpb24oYSxjLGQpe2JbKGQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKGEsXCJwc3dwX19cIitjKX0sRD1mdW5jdGlvbigpe3ZhciBhPTE9PT1xLmdldE51bUl0ZW1zRm4oKTthIT09cCYmKEMoZCxcInVpLS1vbmUtc2xpZGVcIixhKSxwPWEpfSxFPWZ1bmN0aW9uKCl7QyhpLFwic2hhcmUtbW9kYWwtLWhpZGRlblwiLHkpfSxGPWZ1bmN0aW9uKCl7cmV0dXJuIHk9IXkseT8oYi5yZW1vdmVDbGFzcyhpLFwicHN3cF9fc2hhcmUtbW9kYWwtLWZhZGUtaW5cIiksc2V0VGltZW91dChmdW5jdGlvbigpe3kmJkUoKX0sMzAwKSk6KEUoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eXx8Yi5hZGRDbGFzcyhpLFwicHN3cF9fc2hhcmUtbW9kYWwtLWZhZGUtaW5cIil9LDMwKSkseXx8SCgpLCExfSxHPWZ1bmN0aW9uKGIpe2I9Ynx8d2luZG93LmV2ZW50O3ZhciBjPWIudGFyZ2V0fHxiLnNyY0VsZW1lbnQ7cmV0dXJuIGEuc2hvdXQoXCJzaGFyZUxpbmtDbGlja1wiLGIsYyksYy5ocmVmP2MuaGFzQXR0cmlidXRlKFwiZG93bmxvYWRcIik/ITA6KHdpbmRvdy5vcGVuKGMuaHJlZixcInBzd3Bfc2hhcmVcIixcInNjcm9sbGJhcnM9eWVzLHJlc2l6YWJsZT15ZXMsdG9vbGJhcj1ubyxsb2NhdGlvbj15ZXMsd2lkdGg9NTUwLGhlaWdodD00MjAsdG9wPTEwMCxsZWZ0PVwiKyh3aW5kb3cuc2NyZWVuP01hdGgucm91bmQoc2NyZWVuLndpZHRoLzItMjc1KToxMDApKSx5fHxGKCksITEpOiExfSxIPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYyxkLGUsZj1cIlwiLGc9MDtnPHEuc2hhcmVCdXR0b25zLmxlbmd0aDtnKyspYT1xLnNoYXJlQnV0dG9uc1tnXSxjPXEuZ2V0SW1hZ2VVUkxGb3JTaGFyZShhKSxkPXEuZ2V0UGFnZVVSTEZvclNoYXJlKGEpLGU9cS5nZXRUZXh0Rm9yU2hhcmUoYSksYj1hLnVybC5yZXBsYWNlKFwie3t1cmx9fVwiLGVuY29kZVVSSUNvbXBvbmVudChkKSkucmVwbGFjZShcInt7aW1hZ2VfdXJsfX1cIixlbmNvZGVVUklDb21wb25lbnQoYykpLnJlcGxhY2UoXCJ7e3Jhd19pbWFnZV91cmx9fVwiLGMpLnJlcGxhY2UoXCJ7e3RleHR9fVwiLGVuY29kZVVSSUNvbXBvbmVudChlKSksZis9JzxhIGhyZWY9XCInK2IrJ1wiIHRhcmdldD1cIl9ibGFua1wiIGNsYXNzPVwicHN3cF9fc2hhcmUtLScrYS5pZCsnXCInKyhhLmRvd25sb2FkP1wiZG93bmxvYWRcIjpcIlwiKStcIj5cIithLmxhYmVsK1wiPC9hPlwiLHEucGFyc2VTaGFyZUJ1dHRvbk91dCYmKGY9cS5wYXJzZVNoYXJlQnV0dG9uT3V0KGEsZikpO2kuY2hpbGRyZW5bMF0uaW5uZXJIVE1MPWYsaS5jaGlsZHJlblswXS5vbmNsaWNrPUd9LEk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7YzxxLmNsb3NlRWxDbGFzc2VzLmxlbmd0aDtjKyspaWYoYi5oYXNDbGFzcyhhLFwicHN3cF9fXCIrcS5jbG9zZUVsQ2xhc3Nlc1tjXSkpcmV0dXJuITB9LEo9MCxLPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHUpLEo9MCxrJiZ2LnNldElkbGUoITEpfSxMPWZ1bmN0aW9uKGEpe2E9YT9hOndpbmRvdy5ldmVudDt2YXIgYj1hLnJlbGF0ZWRUYXJnZXR8fGEudG9FbGVtZW50O2ImJlwiSFRNTFwiIT09Yi5ub2RlTmFtZXx8KGNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LnNldElkbGUoITApfSxxLnRpbWVUb0lkbGVPdXRzaWRlKSl9LE09ZnVuY3Rpb24oKXtxLmZ1bGxzY3JlZW5FbCYmKGN8fChjPXYuZ2V0RnVsbHNjcmVlbkFQSSgpKSxjPyhiLmJpbmQoZG9jdW1lbnQsYy5ldmVudEssdi51cGRhdGVGdWxsc2NyZWVuKSx2LnVwZGF0ZUZ1bGxzY3JlZW4oKSxiLmFkZENsYXNzKGEudGVtcGxhdGUsXCJwc3dwLS1zdXBwb3J0cy1mc1wiKSk6Yi5yZW1vdmVDbGFzcyhhLnRlbXBsYXRlLFwicHN3cC0tc3VwcG9ydHMtZnNcIikpfSxOPWZ1bmN0aW9uKCl7cS5wcmVsb2FkZXJFbCYmKE8oITApLGwoXCJiZWZvcmVDaGFuZ2VcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChvKSxvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmN1cnJJdGVtJiZhLmN1cnJJdGVtLmxvYWRpbmc/KCFhLmFsbG93UHJvZ3Jlc3NpdmVJbWcoKXx8YS5jdXJySXRlbS5pbWcmJiFhLmN1cnJJdGVtLmltZy5uYXR1cmFsV2lkdGgpJiZPKCExKTpPKCEwKX0scS5sb2FkaW5nSW5kaWNhdG9yRGVsYXkpfSksbChcImltYWdlTG9hZENvbXBsZXRlXCIsZnVuY3Rpb24oYixjKXthLmN1cnJJdGVtPT09YyYmTyghMCl9KSl9LE89ZnVuY3Rpb24oYSl7biE9PWEmJihDKG0sXCJwcmVsb2FkZXItLWFjdGl2ZVwiLCFhKSxuPWEpfSxQPWZ1bmN0aW9uKGEpe3ZhciBjPWEudkdhcDtpZihCKCkpe3ZhciBnPXEuYmFyc1NpemU7aWYocS5jYXB0aW9uRWwmJlwiYXV0b1wiPT09Zy5ib3R0b20paWYoZnx8KGY9Yi5jcmVhdGVFbChcInBzd3BfX2NhcHRpb24gcHN3cF9fY2FwdGlvbi0tZmFrZVwiKSxmLmFwcGVuZENoaWxkKGIuY3JlYXRlRWwoXCJwc3dwX19jYXB0aW9uX19jZW50ZXJcIikpLGQuaW5zZXJ0QmVmb3JlKGYsZSksYi5hZGRDbGFzcyhkLFwicHN3cF9fdWktLWZpdFwiKSkscS5hZGRDYXB0aW9uSFRNTEZuKGEsZiwhMCkpe3ZhciBoPWYuY2xpZW50SGVpZ2h0O2MuYm90dG9tPXBhcnNlSW50KGgsMTApfHw0NH1lbHNlIGMuYm90dG9tPWcudG9wO2Vsc2UgYy5ib3R0b209Zy5ib3R0b207Yy50b3A9Zy50b3B9ZWxzZSBjLnRvcD1jLmJvdHRvbT0wfSxRPWZ1bmN0aW9uKCl7cS50aW1lVG9JZGxlJiZsKFwibW91c2VVc2VkXCIsZnVuY3Rpb24oKXtiLmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixLKSxiLmJpbmQoZG9jdW1lbnQsXCJtb3VzZW91dFwiLEwpLHQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtKKyssMj09PUomJnYuc2V0SWRsZSghMCl9LHEudGltZVRvSWRsZS8yKX0pfSxSPWZ1bmN0aW9uKCl7bChcIm9uVmVydGljYWxEcmFnXCIsZnVuY3Rpb24oYSl7eCYmLjk1PmE/di5oaWRlQ29udHJvbHMoKToheCYmYT49Ljk1JiZ2LnNob3dDb250cm9scygpfSk7dmFyIGE7bChcIm9uUGluY2hDbG9zZVwiLGZ1bmN0aW9uKGIpe3gmJi45PmI/KHYuaGlkZUNvbnRyb2xzKCksYT0hMCk6YSYmIXgmJmI+LjkmJnYuc2hvd0NvbnRyb2xzKCl9KSxsKFwiem9vbUdlc3R1cmVFbmRlZFwiLGZ1bmN0aW9uKCl7YT0hMSxhJiYheCYmdi5zaG93Q29udHJvbHMoKX0pfSxTPVt7bmFtZTpcImNhcHRpb25cIixvcHRpb246XCJjYXB0aW9uRWxcIixvbkluaXQ6ZnVuY3Rpb24oYSl7ZT1hfX0se25hbWU6XCJzaGFyZS1tb2RhbFwiLG9wdGlvbjpcInNoYXJlRWxcIixvbkluaXQ6ZnVuY3Rpb24oYSl7aT1hfSxvblRhcDpmdW5jdGlvbigpe0YoKX19LHtuYW1lOlwiYnV0dG9uLS1zaGFyZVwiLG9wdGlvbjpcInNoYXJlRWxcIixvbkluaXQ6ZnVuY3Rpb24oYSl7aD1hfSxvblRhcDpmdW5jdGlvbigpe0YoKX19LHtuYW1lOlwiYnV0dG9uLS16b29tXCIsb3B0aW9uOlwiem9vbUVsXCIsb25UYXA6YS50b2dnbGVEZXNrdG9wWm9vbX0se25hbWU6XCJjb3VudGVyXCIsb3B0aW9uOlwiY291bnRlckVsXCIsb25Jbml0OmZ1bmN0aW9uKGEpe2c9YX19LHtuYW1lOlwiYnV0dG9uLS1jbG9zZVwiLG9wdGlvbjpcImNsb3NlRWxcIixvblRhcDphLmNsb3NlfSx7bmFtZTpcImJ1dHRvbi0tYXJyb3ctLWxlZnRcIixvcHRpb246XCJhcnJvd0VsXCIsb25UYXA6YS5wcmV2fSx7bmFtZTpcImJ1dHRvbi0tYXJyb3ctLXJpZ2h0XCIsb3B0aW9uOlwiYXJyb3dFbFwiLG9uVGFwOmEubmV4dH0se25hbWU6XCJidXR0b24tLWZzXCIsb3B0aW9uOlwiZnVsbHNjcmVlbkVsXCIsb25UYXA6ZnVuY3Rpb24oKXtjLmlzRnVsbHNjcmVlbigpP2MuZXhpdCgpOmMuZW50ZXIoKX19LHtuYW1lOlwicHJlbG9hZGVyXCIsb3B0aW9uOlwicHJlbG9hZGVyRWxcIixvbkluaXQ6ZnVuY3Rpb24oYSl7bT1hfX1dLFQ9ZnVuY3Rpb24oKXt2YXIgYSxjLGUsZj1mdW5jdGlvbihkKXtpZihkKWZvcih2YXIgZj1kLmxlbmd0aCxnPTA7Zj5nO2crKyl7YT1kW2ddLGM9YS5jbGFzc05hbWU7Zm9yKHZhciBoPTA7aDxTLmxlbmd0aDtoKyspZT1TW2hdLGMuaW5kZXhPZihcInBzd3BfX1wiK2UubmFtZSk+LTEmJihxW2Uub3B0aW9uXT8oYi5yZW1vdmVDbGFzcyhhLFwicHN3cF9fZWxlbWVudC0tZGlzYWJsZWRcIiksZS5vbkluaXQmJmUub25Jbml0KGEpKTpiLmFkZENsYXNzKGEsXCJwc3dwX19lbGVtZW50LS1kaXNhYmxlZFwiKSl9fTtmKGQuY2hpbGRyZW4pO3ZhciBnPWIuZ2V0Q2hpbGRCeUNsYXNzKGQsXCJwc3dwX190b3AtYmFyXCIpO2cmJmYoZy5jaGlsZHJlbil9O3YuaW5pdD1mdW5jdGlvbigpe2IuZXh0ZW5kKGEub3B0aW9ucyx6LCEwKSxxPWEub3B0aW9ucyxkPWIuZ2V0Q2hpbGRCeUNsYXNzKGEuc2Nyb2xsV3JhcCxcInBzd3BfX3VpXCIpLGw9YS5saXN0ZW4sUigpLGwoXCJiZWZvcmVDaGFuZ2VcIix2LnVwZGF0ZSksbChcImRvdWJsZVRhcFwiLGZ1bmN0aW9uKGIpe3ZhciBjPWEuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbDthLmdldFpvb21MZXZlbCgpIT09Yz9hLnpvb21UbyhjLGIsMzMzKTphLnpvb21UbyhxLmdldERvdWJsZVRhcFpvb20oITEsYS5jdXJySXRlbSksYiwzMzMpfSksbChcInByZXZlbnREcmFnRXZlbnRcIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50YXJnZXR8fGEuc3JjRWxlbWVudDtkJiZkLmNsYXNzTmFtZSYmYS50eXBlLmluZGV4T2YoXCJtb3VzZVwiKT4tMSYmKGQuY2xhc3NOYW1lLmluZGV4T2YoXCJfX2NhcHRpb25cIik+MHx8LyhTTUFMTHxTVFJPTkd8RU0pL2kudGVzdChkLnRhZ05hbWUpKSYmKGMucHJldmVudD0hMSl9KSxsKFwiYmluZEV2ZW50c1wiLGZ1bmN0aW9uKCl7Yi5iaW5kKGQsXCJwc3dwVGFwIGNsaWNrXCIsQSksYi5iaW5kKGEuc2Nyb2xsV3JhcCxcInBzd3BUYXBcIix2Lm9uR2xvYmFsVGFwKSxhLmxpa2VseVRvdWNoRGV2aWNlfHxiLmJpbmQoYS5zY3JvbGxXcmFwLFwibW91c2VvdmVyXCIsdi5vbk1vdXNlT3Zlcil9KSxsKFwidW5iaW5kRXZlbnRzXCIsZnVuY3Rpb24oKXt5fHxGKCksdCYmY2xlYXJJbnRlcnZhbCh0KSxiLnVuYmluZChkb2N1bWVudCxcIm1vdXNlb3V0XCIsTCksYi51bmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixLKSxiLnVuYmluZChkLFwicHN3cFRhcCBjbGlja1wiLEEpLGIudW5iaW5kKGEuc2Nyb2xsV3JhcCxcInBzd3BUYXBcIix2Lm9uR2xvYmFsVGFwKSxiLnVuYmluZChhLnNjcm9sbFdyYXAsXCJtb3VzZW92ZXJcIix2Lm9uTW91c2VPdmVyKSxjJiYoYi51bmJpbmQoZG9jdW1lbnQsYy5ldmVudEssdi51cGRhdGVGdWxsc2NyZWVuKSxjLmlzRnVsbHNjcmVlbigpJiYocS5oaWRlQW5pbWF0aW9uRHVyYXRpb249MCxjLmV4aXQoKSksYz1udWxsKX0pLGwoXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtxLmNhcHRpb25FbCYmKGYmJmQucmVtb3ZlQ2hpbGQoZiksYi5yZW1vdmVDbGFzcyhlLFwicHN3cF9fY2FwdGlvbi0tZW1wdHlcIikpLGkmJihpLmNoaWxkcmVuWzBdLm9uY2xpY2s9bnVsbCksYi5yZW1vdmVDbGFzcyhkLFwicHN3cF9fdWktLW92ZXItY2xvc2VcIiksYi5hZGRDbGFzcyhkLFwicHN3cF9fdWktLWhpZGRlblwiKSx2LnNldElkbGUoITEpfSkscS5zaG93QW5pbWF0aW9uRHVyYXRpb258fGIucmVtb3ZlQ2xhc3MoZCxcInBzd3BfX3VpLS1oaWRkZW5cIiksbChcImluaXRpYWxab29tSW5cIixmdW5jdGlvbigpe3Euc2hvd0FuaW1hdGlvbkR1cmF0aW9uJiZiLnJlbW92ZUNsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpfSksbChcImluaXRpYWxab29tT3V0XCIsZnVuY3Rpb24oKXtiLmFkZENsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpfSksbChcInBhcnNlVmVydGljYWxNYXJnaW5cIixQKSxUKCkscS5zaGFyZUVsJiZoJiZpJiYoeT0hMCksRCgpLFEoKSxNKCksTigpfSx2LnNldElkbGU9ZnVuY3Rpb24oYSl7az1hLEMoZCxcInVpLS1pZGxlXCIsYSl9LHYudXBkYXRlPWZ1bmN0aW9uKCl7eCYmYS5jdXJySXRlbT8odi51cGRhdGVJbmRleEluZGljYXRvcigpLHEuY2FwdGlvbkVsJiYocS5hZGRDYXB0aW9uSFRNTEZuKGEuY3Vyckl0ZW0sZSksQyhlLFwiY2FwdGlvbi0tZW1wdHlcIiwhYS5jdXJySXRlbS50aXRsZSkpLHc9ITApOnc9ITEsRCgpfSx2LnVwZGF0ZUZ1bGxzY3JlZW49ZnVuY3Rpb24oKXtDKGEudGVtcGxhdGUsXCJmc1wiLGMuaXNGdWxsc2NyZWVuKCkpfSx2LnVwZGF0ZUluZGV4SW5kaWNhdG9yPWZ1bmN0aW9uKCl7cS5jb3VudGVyRWwmJihnLmlubmVySFRNTD1hLmdldEN1cnJlbnRJbmRleCgpKzErcS5pbmRleEluZGljYXRvclNlcCtxLmdldE51bUl0ZW1zRm4oKSl9LHYub25HbG9iYWxUYXA9ZnVuY3Rpb24oYyl7Yz1jfHx3aW5kb3cuZXZlbnQ7dmFyIGQ9Yy50YXJnZXR8fGMuc3JjRWxlbWVudDtpZighcilpZihjLmRldGFpbCYmXCJtb3VzZVwiPT09Yy5kZXRhaWwucG9pbnRlclR5cGUpSShkKSYmYS5jbG9zZSgpLGIuaGFzQ2xhc3MoZCxcInBzd3BfX2ltZ1wiKSYmKDE9PT1hLmdldFpvb21MZXZlbCgpJiZhLmdldFpvb21MZXZlbCgpPD1hLmN1cnJJdGVtLmZpdFJhdGlvP2EuY2xvc2UoKTphLnRvZ2dsZURlc2t0b3Bab29tKGMuZGV0YWlsLnJlbGVhc2VQb2ludCkpO2Vsc2UgaWYocS50YXBUb1RvZ2dsZUNvbnRyb2xzJiYoeD92LmhpZGVDb250cm9scygpOnYuc2hvd0NvbnRyb2xzKCkpLHEudGFwVG9DbG9zZSYmKGIuaGFzQ2xhc3MoZCxcInBzd3BfX2ltZ1wiKXx8SShkKSkpcmV0dXJuIHZvaWQgYS5jbG9zZSgpfSx2Lm9uTW91c2VPdmVyPWZ1bmN0aW9uKGEpe2E9YXx8d2luZG93LmV2ZW50O3ZhciBiPWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7QyhkLFwidWktLW92ZXItY2xvc2VcIixJKGIpKX0sdi5oaWRlQ29udHJvbHM9ZnVuY3Rpb24oKXtiLmFkZENsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpLHg9ITF9LHYuc2hvd0NvbnRyb2xzPWZ1bmN0aW9uKCl7eD0hMCx3fHx2LnVwZGF0ZSgpLGIucmVtb3ZlQ2xhc3MoZCxcInBzd3BfX3VpLS1oaWRkZW5cIil9LHYuc3VwcG9ydHNGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQ7cmV0dXJuISEoYS5leGl0RnVsbHNjcmVlbnx8YS5tb3pDYW5jZWxGdWxsU2NyZWVufHxhLndlYmtpdEV4aXRGdWxsc2NyZWVufHxhLm1zRXhpdEZ1bGxzY3JlZW4pfSx2LmdldEZ1bGxzY3JlZW5BUEk9ZnVuY3Rpb24oKXt2YXIgYixjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkPVwiZnVsbHNjcmVlbmNoYW5nZVwiO3JldHVybiBjLnJlcXVlc3RGdWxsc2NyZWVuP2I9e2VudGVySzpcInJlcXVlc3RGdWxsc2NyZWVuXCIsZXhpdEs6XCJleGl0RnVsbHNjcmVlblwiLGVsZW1lbnRLOlwiZnVsbHNjcmVlbkVsZW1lbnRcIixldmVudEs6ZH06Yy5tb3pSZXF1ZXN0RnVsbFNjcmVlbj9iPXtlbnRlcks6XCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLGV4aXRLOlwibW96Q2FuY2VsRnVsbFNjcmVlblwiLGVsZW1lbnRLOlwibW96RnVsbFNjcmVlbkVsZW1lbnRcIixldmVudEs6XCJtb3pcIitkfTpjLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuP2I9e2VudGVySzpcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsZXhpdEs6XCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLGVsZW1lbnRLOlwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixldmVudEs6XCJ3ZWJraXRcIitkfTpjLm1zUmVxdWVzdEZ1bGxzY3JlZW4mJihiPXtlbnRlcks6XCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsZXhpdEs6XCJtc0V4aXRGdWxsc2NyZWVuXCIsZWxlbWVudEs6XCJtc0Z1bGxzY3JlZW5FbGVtZW50XCIsZXZlbnRLOlwiTVNGdWxsc2NyZWVuQ2hhbmdlXCJ9KSxiJiYoYi5lbnRlcj1mdW5jdGlvbigpe3JldHVybiBqPXEuY2xvc2VPblNjcm9sbCxxLmNsb3NlT25TY3JvbGw9ITEsXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiIT09dGhpcy5lbnRlcks/YS50ZW1wbGF0ZVt0aGlzLmVudGVyS10oKTp2b2lkIGEudGVtcGxhdGVbdGhpcy5lbnRlcktdKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpfSxiLmV4aXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcS5jbG9zZU9uU2Nyb2xsPWosZG9jdW1lbnRbdGhpcy5leGl0S10oKX0sYi5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnRbdGhpcy5lbGVtZW50S119KSxifX07cmV0dXJuIGF9KTsiLCIvKiEgUGhvdG9Td2lwZSAtIHY0LjAuMyAtIDIwMTUtMDEtMDVcbiogaHR0cDovL3Bob3Rvc3dpcGUuY29tXG4qIENvcHlyaWdodCAoYykgMjAxNSBEbWl0cnkgU2VtZW5vdjsgKi9cbiFmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YigpOmEuUGhvdG9Td2lwZT1iKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17ZmVhdHVyZXM6bnVsbCxiaW5kOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPShkP1wicmVtb3ZlXCI6XCJhZGRcIikrXCJFdmVudExpc3RlbmVyXCI7Yj1iLnNwbGl0KFwiIFwiKTtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKyliW2ZdJiZhW2VdKGJbZl0sYywhMSl9LGlzQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheX0sY3JlYXRlRWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGJ8fFwiZGl2XCIpO3JldHVybiBhJiYoYy5jbGFzc05hbWU9YSksY30sZ2V0U2Nyb2xsWTpmdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5wYWdlWU9mZnNldDtyZXR1cm4gdm9pZCAwIT09YT9hOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9LHVuYmluZDpmdW5jdGlvbihhLGIsYyl7ZS5iaW5kKGEsYixjLCEwKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgUmVnRXhwKFwiKFxcXFxzfF4pXCIrYitcIihcXFxcc3wkKVwiKTthLmNsYXNzTmFtZT1hLmNsYXNzTmFtZS5yZXBsYWNlKGMsXCIgXCIpLnJlcGxhY2UoL15cXHNcXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHNcXHMqJC8sXCJcIil9LGFkZENsYXNzOmZ1bmN0aW9uKGEsYil7ZS5oYXNDbGFzcyhhLGIpfHwoYS5jbGFzc05hbWUrPShhLmNsYXNzTmFtZT9cIiBcIjpcIlwiKStiKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jbGFzc05hbWUmJm5ldyBSZWdFeHAoXCIoXnxcXFxccylcIitiK1wiKFxcXFxzfCQpXCIpLnRlc3QoYS5jbGFzc05hbWUpfSxnZXRDaGlsZEJ5Q2xhc3M6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7KXtpZihlLmhhc0NsYXNzKGMsYikpcmV0dXJuIGM7Yz1jLm5leHRTaWJsaW5nfX0sYXJyYXlTZWFyY2g6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aDtkLS07KWlmKGFbZF1bY109PT1iKXJldHVybiBkO3JldHVybi0xfSxleHRlbmQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoZCkpe2lmKGMmJmEuaGFzT3duUHJvcGVydHkoZCkpY29udGludWU7YVtkXT1iW2RdfX0sZWFzaW5nOntzaW5lOntvdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc2luKGEqKE1hdGguUEkvMikpfSxpbk91dDpmdW5jdGlvbihhKXtyZXR1cm4tKE1hdGguY29zKE1hdGguUEkqYSktMSkvMn19LGN1YmljOntvdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuLS1hKmEqYSsxfX19LGRldGVjdEZlYXR1cmVzOmZ1bmN0aW9uKCl7aWYoZS5mZWF0dXJlcylyZXR1cm4gZS5mZWF0dXJlczt2YXIgYT1lLmNyZWF0ZUVsKCksYj1hLnN0eWxlLGM9XCJcIixkPXt9O2lmKGQub2xkSUU9ZG9jdW1lbnQuYWxsJiYhZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcixkLnRvdWNoPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3csd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmKGQucmFmPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZC5jYWY9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSxkLnBvaW50ZXJFdmVudD1uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWR8fG5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLCFkLnBvaW50ZXJFdmVudCl7dmFyIGY9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZigvaVAoaG9uZXxvZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl7dmFyIGc9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKTtnJiZnLmxlbmd0aD4wJiYoZz1wYXJzZUludChnWzFdLDEwKSxnPj0xJiY4PmcmJihkLmlzT2xkSU9TUGhvbmU9ITApKX12YXIgaD1mLm1hdGNoKC9BbmRyb2lkXFxzKFswLTlcXC5dKikvKSxpPWg/aFsxXTowO2k9cGFyc2VGbG9hdChpKSxpPj0xJiYoNC40PmkmJihkLmlzT2xkQW5kcm9pZD0hMCksZC5hbmRyb2lkVmVyc2lvbj1pKSxkLmlzTW9iaWxlT3BlcmE9L29wZXJhIG1pbml8b3BlcmEgbW9iaS9pLnRlc3QoZil9Zm9yKHZhciBqLGssbD1bXCJ0cmFuc2Zvcm1cIixcInBlcnNwZWN0aXZlXCIsXCJhbmltYXRpb25OYW1lXCJdLG09W1wiXCIsXCJ3ZWJraXRcIixcIk1velwiLFwibXNcIixcIk9cIl0sbj0wOzQ+bjtuKyspe2M9bVtuXTtmb3IodmFyIG89MDszPm87bysrKWo9bFtvXSxrPWMrKGM/ai5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStqLnNsaWNlKDEpOmopLCFkW2pdJiZrIGluIGImJihkW2pdPWspO2MmJiFkLnJhZiYmKGM9Yy50b0xvd2VyQ2FzZSgpLGQucmFmPXdpbmRvd1tjK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLGQucmFmJiYoZC5jYWY9d2luZG93W2MrXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8d2luZG93W2MrXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0pKX1pZighZC5yYWYpe3ZhciBwPTA7ZC5yYWY9ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1NYXRoLm1heCgwLDE2LShiLXApKSxkPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiK2MpfSxjKTtyZXR1cm4gcD1iK2MsZH0sZC5jYWY9ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX1yZXR1cm4gZC5zdmc9ISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMmJiEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKS5jcmVhdGVTVkdSZWN0LGUuZmVhdHVyZXM9ZCxkfX07ZS5kZXRlY3RGZWF0dXJlcygpLGUuZmVhdHVyZXMub2xkSUUmJihlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1iLnNwbGl0KFwiIFwiKTtmb3IodmFyIGUsZj0oZD9cImRldGFjaFwiOlwiYXR0YWNoXCIpK1wiRXZlbnRcIixnPWZ1bmN0aW9uKCl7Yy5oYW5kbGVFdmVudC5jYWxsKGMpfSxoPTA7aDxiLmxlbmd0aDtoKyspaWYoZT1iW2hdKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZjLmhhbmRsZUV2ZW50KXtpZihkKXtpZighY1tcIm9sZElFXCIrZV0pcmV0dXJuITF9ZWxzZSBjW1wib2xkSUVcIitlXT1nO2FbZl0oXCJvblwiK2UsY1tcIm9sZElFXCIrZV0pfWVsc2UgYVtmXShcIm9uXCIrZSxjKX0pO3ZhciBmPXRoaXMsZz0yNSxoPTMsaT17YWxsb3dQYW5Ub05leHQ6ITAsc3BhY2luZzouMTIsYmdPcGFjaXR5OjEsbW91c2VVc2VkOiExLGxvb3A6ITAscGluY2hUb0Nsb3NlOiEwLGNsb3NlT25TY3JvbGw6ITAsY2xvc2VPblZlcnRpY2FsRHJhZzohMCxoaWRlQW5pbWF0aW9uRHVyYXRpb246MzMzLHNob3dBbmltYXRpb25EdXJhdGlvbjozMzMsc2hvd0hpZGVPcGFjaXR5OiExLGZvY3VzOiEwLGVzY0tleTohMCxhcnJvd0tleXM6ITAsbWFpblNjcm9sbEVuZEZyaWN0aW9uOi4zNSxwYW5FbmRGcmljdGlvbjouMzUsaXNDbGlja2FibGVFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVyblwiQVwiPT09YS50YWdOYW1lfSxnZXREb3VibGVUYXBab29tOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/MTpiLmluaXRpYWxab29tTGV2ZWw8Ljc/MToxLjV9LG1heFNwcmVhZFpvb206MixzY2FsZU1vZGU6XCJmaXRcIixtb2RhbDohMCxhbHdheXNGYWRlSW46ITF9O2UuZXh0ZW5kKGksZCk7dmFyIGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyxELEUsRixHLEgsSSxKLEssTCxNLE4sTyxQLFEsUixTLFQsVSxWLFcsWCxZLFosJCxfLGFiLGJiLGNiLGRiLGViLGZiLGdiLGhiLGliLGpiLGtiLGxiLG1iLG5iPWZ1bmN0aW9uKCl7cmV0dXJue3g6MCx5OjB9fSxvYj1uYigpLHBiPW5iKCkscWI9bmIoKSxyYj17fSxzYj0wLHRiPW5iKCksdWI9MCx2Yj0hMCx3Yj1bXSx4Yj17fSx5Yj1mdW5jdGlvbihhLGIpe2UuZXh0ZW5kKGYsYi5wdWJsaWNNZXRob2RzKSx3Yi5wdXNoKGEpfSx6Yj1mdW5jdGlvbihhKXt2YXIgYj1fYygpO3JldHVybiBhPmItMT9hLWI6MD5hP2IrYTphfSxBYj17fSxCYj1mdW5jdGlvbihhLGIpe3JldHVybiBBYlthXXx8KEFiW2FdPVtdKSxBYlthXS5wdXNoKGIpfSxDYj1mdW5jdGlvbihhKXt2YXIgYj1BYlthXTtpZihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2Muc2hpZnQoKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyliW2RdLmFwcGx5KGYsYyl9fSxEYj1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxFYj1mdW5jdGlvbihhKXtrYj1hLGYuYmcuc3R5bGUub3BhY2l0eT1hKmkuYmdPcGFjaXR5fSxGYj1mdW5jdGlvbihhLGIsYyxkKXthW0ddPXUrYitcInB4LCBcIitjK1wicHhcIit2K1wiIHNjYWxlKFwiK2QrXCIpXCJ9LEdiPWZ1bmN0aW9uKCl7ZmImJkZiKGZiLHFiLngscWIueSxzKX0sSGI9ZnVuY3Rpb24oYSl7YS5jb250YWluZXImJkZiKGEuY29udGFpbmVyLnN0eWxlLGEuaW5pdGlhbFBvc2l0aW9uLngsYS5pbml0aWFsUG9zaXRpb24ueSxhLmluaXRpYWxab29tTGV2ZWwpfSxJYj1mdW5jdGlvbihhLGIpe2JbR109dSthK1wicHgsIDBweFwiK3Z9LEpiPWZ1bmN0aW9uKGEsYil7aWYoIWkubG9vcCYmYil7dmFyIGM9bSsodGIueCpzYi1hKS90Yi54LGQ9TWF0aC5yb3VuZChhLXNjLngpOygwPmMmJmQ+MHx8Yz49X2MoKS0xJiYwPmQpJiYoYT1zYy54K2QqaS5tYWluU2Nyb2xsRW5kRnJpY3Rpb24pfXNjLng9YSxJYihhLG4pfSxLYj1mdW5jdGlvbihhLGIpe3ZhciBjPXRjW2FdLXlbYV07cmV0dXJuIHBiW2FdK29iW2FdK2MtYyooYi90KX0sTGI9ZnVuY3Rpb24oYSxiKXthLng9Yi54LGEueT1iLnksYi5pZCYmKGEuaWQ9Yi5pZCl9LE1iPWZ1bmN0aW9uKGEpe2EueD1NYXRoLnJvdW5kKGEueCksYS55PU1hdGgucm91bmQoYS55KX0sTmI9bnVsbCxPYj1mdW5jdGlvbigpe05iJiYoZS51bmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixPYiksZS5hZGRDbGFzcyhhLFwicHN3cC0taGFzX21vdXNlXCIpLGkubW91c2VVc2VkPSEwLENiKFwibW91c2VVc2VkXCIpKSxOYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TmI9bnVsbH0sMTAwKX0sUGI9ZnVuY3Rpb24oKXtlLmJpbmQoZG9jdW1lbnQsXCJrZXlkb3duXCIsZiksUC50cmFuc2Zvcm0mJmUuYmluZChmLnNjcm9sbFdyYXAsXCJjbGlja1wiLGYpLGkubW91c2VVc2VkfHxlLmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixPYiksZS5iaW5kKHdpbmRvdyxcInJlc2l6ZSBzY3JvbGxcIixmKSxDYihcImJpbmRFdmVudHNcIil9LFFiPWZ1bmN0aW9uKCl7ZS51bmJpbmQod2luZG93LFwicmVzaXplXCIsZiksZS51bmJpbmQod2luZG93LFwic2Nyb2xsXCIsci5zY3JvbGwpLGUudW5iaW5kKGRvY3VtZW50LFwia2V5ZG93blwiLGYpLGUudW5iaW5kKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsT2IpLFAudHJhbnNmb3JtJiZlLnVuYmluZChmLnNjcm9sbFdyYXAsXCJjbGlja1wiLGYpLFcmJmUudW5iaW5kKHdpbmRvdyxwLGYpLENiKFwidW5iaW5kRXZlbnRzXCIpfSxSYj1mdW5jdGlvbihhLGIpe3ZhciBjPWhkKGYuY3Vyckl0ZW0scmIsYSk7cmV0dXJuIGImJihlYj1jKSxjfSxTYj1mdW5jdGlvbihhKXtyZXR1cm4gYXx8KGE9Zi5jdXJySXRlbSksYS5pbml0aWFsWm9vbUxldmVsfSxUYj1mdW5jdGlvbihhKXtyZXR1cm4gYXx8KGE9Zi5jdXJySXRlbSksYS53PjA/aS5tYXhTcHJlYWRab29tOjF9LFViPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBkPT09Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsPyhjW2FdPWYuY3Vyckl0ZW0uaW5pdGlhbFBvc2l0aW9uW2FdLCEwKTooY1thXT1LYihhLGQpLGNbYV0+Yi5taW5bYV0/KGNbYV09Yi5taW5bYV0sITApOmNbYV08Yi5tYXhbYV0/KGNbYV09Yi5tYXhbYV0sITApOiExKX0sVmI9ZnVuY3Rpb24oKXtpZihHKXt2YXIgYj1QLnBlcnNwZWN0aXZlJiYhSTtyZXR1cm4gdT1cInRyYW5zbGF0ZVwiKyhiP1wiM2QoXCI6XCIoXCIpLHZvaWQodj1QLnBlcnNwZWN0aXZlP1wiLCAwcHgpXCI6XCIpXCIpfUc9XCJsZWZ0XCIsZS5hZGRDbGFzcyhhLFwicHN3cC0taWVcIiksSWI9ZnVuY3Rpb24oYSxiKXtiLmxlZnQ9YStcInB4XCJ9LEhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEuY29udGFpbmVyLnN0eWxlLGM9YS5maXRSYXRpbyphLncsZD1hLmZpdFJhdGlvKmEuaDtiLndpZHRoPWMrXCJweFwiLGIuaGVpZ2h0PWQrXCJweFwiLGIubGVmdD1hLmluaXRpYWxQb3NpdGlvbi54K1wicHhcIixiLnRvcD1hLmluaXRpYWxQb3NpdGlvbi55K1wicHhcIn0sR2I9ZnVuY3Rpb24oKXtpZihmYil7dmFyIGE9ZmIsYj1mLmN1cnJJdGVtLGM9Yi5maXRSYXRpbypiLncsZD1iLmZpdFJhdGlvKmIuaDthLndpZHRoPWMrXCJweFwiLGEuaGVpZ2h0PWQrXCJweFwiLGEubGVmdD1xYi54K1wicHhcIixhLnRvcD1xYi55K1wicHhcIn19fSxXYj1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO2kuZXNjS2V5JiYyNz09PWEua2V5Q29kZT9iPVwiY2xvc2VcIjppLmFycm93S2V5cyYmKDM3PT09YS5rZXlDb2RlP2I9XCJwcmV2XCI6Mzk9PT1hLmtleUNvZGUmJihiPVwibmV4dFwiKSksYiYmKGEuY3RybEtleXx8YS5hbHRLZXl8fGEuc2hpZnRLZXl8fGEubWV0YUtleXx8KGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEsZltiXSgpKSl9LFhiPWZ1bmN0aW9uKGEpe2EmJihafHxZfHxnYnx8VSkmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSl9LFliPWZ1bmN0aW9uKCl7ej0hMCxpLmNsb3NlT25TY3JvbGwmJmomJighZi5saWtlbHlUb3VjaERldmljZXx8aS5tb3VzZVVzZWQpJiZNYXRoLmFicyhlLmdldFNjcm9sbFkoKS1NKT4yJiYobD0hMCxmLmNsb3NlKCkpfSxaYj17fSwkYj0wLF9iPWZ1bmN0aW9uKGEpe1piW2FdJiYoWmJbYV0ucmFmJiZLKFpiW2FdLnJhZiksJGItLSxkZWxldGUgWmJbYV0pfSxhYz1mdW5jdGlvbihhKXtaYlthXSYmX2IoYSksWmJbYV18fCgkYisrLFpiW2FdPXt9KX0sYmM9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gWmIpWmIuaGFzT3duUHJvcGVydHkoYSkmJl9iKGEpfSxjYz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaCxpPURiKCk7YWMoYSk7dmFyIGo9ZnVuY3Rpb24oKXtpZihaYlthXSl7aWYoaD1EYigpLWksaD49ZClyZXR1cm4gX2IoYSksZihjKSx2b2lkKGcmJmcoKSk7ZigoYy1iKSplKGgvZCkrYiksWmJbYV0ucmFmPUooail9fTtqKCl9LGRjPXtzaG91dDpDYixsaXN0ZW46QmIsdmlld3BvcnRTaXplOnJiLG9wdGlvbnM6aSxpc01haW5TY3JvbGxBbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZ2J9LGdldFpvb21MZXZlbDpmdW5jdGlvbigpe3JldHVybiBzfSxnZXRDdXJyZW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gbX0saXNEcmFnZ2luZzpmdW5jdGlvbigpe3JldHVybiBXfSxpc1pvb21pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gYmJ9LGFwcGx5Wm9vbVBhbjpmdW5jdGlvbihhLGIsYyl7cWIueD1iLHFiLnk9YyxzPWEsR2IoKX0saW5pdDpmdW5jdGlvbigpe2lmKCFqJiYhayl7dmFyIGM7Zi5mcmFtZXdvcms9ZSxmLnRlbXBsYXRlPWEsZi5iZz1lLmdldENoaWxkQnlDbGFzcyhhLFwicHN3cF9fYmdcIiksTD1hLmNsYXNzTmFtZSxqPSEwLFA9ZS5kZXRlY3RGZWF0dXJlcygpLEo9UC5yYWYsSz1QLmNhZixHPVAudHJhbnNmb3JtLE49UC5vbGRJRSxmLnNjcm9sbFdyYXA9ZS5nZXRDaGlsZEJ5Q2xhc3MoYSxcInBzd3BfX3Njcm9sbC13cmFwXCIpLGYuY29udGFpbmVyPWUuZ2V0Q2hpbGRCeUNsYXNzKGYuc2Nyb2xsV3JhcCxcInBzd3BfX2NvbnRhaW5lclwiKSxuPWYuY29udGFpbmVyLnN0eWxlLGYuaXRlbUhvbGRlcnM9QT1be2VsOmYuY29udGFpbmVyLmNoaWxkcmVuWzBdLHdyYXA6MCxpbmRleDotMX0se2VsOmYuY29udGFpbmVyLmNoaWxkcmVuWzFdLHdyYXA6MCxpbmRleDotMX0se2VsOmYuY29udGFpbmVyLmNoaWxkcmVuWzJdLHdyYXA6MCxpbmRleDotMX1dLEFbMF0uZWwuc3R5bGUuZGlzcGxheT1BWzJdLmVsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsVmIoKSxyPXtyZXNpemU6Zi51cGRhdGVTaXplLHNjcm9sbDpZYixrZXlkb3duOldiLGNsaWNrOlhifTt2YXIgZD1QLmlzT2xkSU9TUGhvbmV8fFAuaXNPbGRBbmRyb2lkfHxQLmlzTW9iaWxlT3BlcmE7Zm9yKFAuYW5pbWF0aW9uTmFtZSYmUC50cmFuc2Zvcm0mJiFkfHwoaS5zaG93QW5pbWF0aW9uRHVyYXRpb249aS5oaWRlQW5pbWF0aW9uRHVyYXRpb249MCksYz0wO2M8d2IubGVuZ3RoO2MrKylmW1wiaW5pdFwiK3diW2NdXSgpO2lmKGIpe3ZhciBnPWYudWk9bmV3IGIoZixlKTtnLmluaXQoKX1DYihcImZpcnN0VXBkYXRlXCIpLG09bXx8aS5pbmRleHx8MCwoaXNOYU4obSl8fDA+bXx8bT49X2MoKSkmJihtPTApLGYuY3Vyckl0ZW09JGMobSksKFAuaXNPbGRJT1NQaG9uZXx8UC5pc09sZEFuZHJvaWQpJiYodmI9ITEpLGkubW9kYWwmJihhLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSx2Yj9hLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIjooYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYS5zdHlsZS50b3A9ZS5nZXRTY3JvbGxZKCkrXCJweFwiKSksdm9pZCAwPT09TyYmKENiKFwiaW5pdGlhbExheW91dFwiKSxPPU09ZS5nZXRTY3JvbGxZKCkpO3ZhciBsPVwicHN3cC0tb3BlbiBcIjtmb3IoaS5tYWluQ2xhc3MmJihsKz1pLm1haW5DbGFzcytcIiBcIiksaS5zaG93SGlkZU9wYWNpdHkmJihsKz1cInBzd3AtLWFuaW1hdGVfb3BhY2l0eSBcIiksbCs9ST9cInBzd3AtLXRvdWNoXCI6XCJwc3dwLS1ub3RvdWNoXCIsbCs9UC5hbmltYXRpb25OYW1lP1wiIHBzd3AtLWNzc19hbmltYXRpb25cIjpcIlwiLGwrPVAuc3ZnP1wiIHBzd3AtLXN2Z1wiOlwiXCIsZS5hZGRDbGFzcyhhLGwpLGYudXBkYXRlU2l6ZSgpLG89LTEsdWI9bnVsbCxjPTA7aD5jO2MrKylJYigoYytvKSp0Yi54LEFbY10uZWwuc3R5bGUpO058fGUuYmluZChmLnNjcm9sbFdyYXAscSxmKSxCYihcImluaXRpYWxab29tSW5FbmRcIixmdW5jdGlvbigpe2Yuc2V0Q29udGVudChBWzBdLG0tMSksZi5zZXRDb250ZW50KEFbMl0sbSsxKSxBWzBdLmVsLnN0eWxlLmRpc3BsYXk9QVsyXS5lbC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixpLmZvY3VzJiZhLmZvY3VzKCksUGIoKX0pLGYuc2V0Q29udGVudChBWzFdLG0pLGYudXBkYXRlQ3Vyckl0ZW0oKSxDYihcImFmdGVySW5pdFwiKSx2Ynx8KHc9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXskYnx8V3x8YmJ8fHMhPT1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWx8fGYudXBkYXRlU2l6ZSgpfSwxZTMpKSxlLmFkZENsYXNzKGEsXCJwc3dwLS12aXNpYmxlXCIpfX0sY2xvc2U6ZnVuY3Rpb24oKXtqJiYoaj0hMSxrPSEwLENiKFwiY2xvc2VcIiksUWIoKSxiZChmLmN1cnJJdGVtLG51bGwsITAsZi5kZXN0cm95KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtDYihcImRlc3Ryb3lcIiksV2MmJmNsZWFyVGltZW91dChXYyksaS5tb2RhbCYmKGEuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksYS5jbGFzc05hbWU9TCksdyYmY2xlYXJJbnRlcnZhbCh3KSxlLnVuYmluZChmLnNjcm9sbFdyYXAscSxmKSxlLnVuYmluZCh3aW5kb3csXCJzY3JvbGxcIixmKSx5YygpLGJjKCksQWI9bnVsbH0scGFuVG86ZnVuY3Rpb24oYSxiLGMpe2N8fChhPmViLm1pbi54P2E9ZWIubWluLng6YTxlYi5tYXgueCYmKGE9ZWIubWF4LngpLGI+ZWIubWluLnk/Yj1lYi5taW4ueTpiPGViLm1heC55JiYoYj1lYi5tYXgueSkpLHFiLng9YSxxYi55PWIsR2IoKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7YT1hfHx3aW5kb3cuZXZlbnQsclthLnR5cGVdJiZyW2EudHlwZV0oYSl9LGdvVG86ZnVuY3Rpb24oYSl7YT16YihhKTt2YXIgYj1hLW07dWI9YixtPWEsZi5jdXJySXRlbT0kYyhtKSxzYi09YixKYih0Yi54KnNiKSxiYygpLGdiPSExLGYudXBkYXRlQ3Vyckl0ZW0oKX0sbmV4dDpmdW5jdGlvbigpe2YuZ29UbyhtKzEpfSxwcmV2OmZ1bmN0aW9uKCl7Zi5nb1RvKG0tMSl9LHVwZGF0ZUN1cnJab29tSXRlbTpmdW5jdGlvbihhKXtpZihhJiZDYihcImJlZm9yZUNoYW5nZVwiLDApLEFbMV0uZWwuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgYj1BWzFdLmVsLmNoaWxkcmVuWzBdO2ZiPWUuaGFzQ2xhc3MoYixcInBzd3BfX3pvb20td3JhcFwiKT9iLnN0eWxlOm51bGx9ZWxzZSBmYj1udWxsO2ViPWYuY3Vyckl0ZW0uYm91bmRzLHQ9cz1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwscWIueD1lYi5jZW50ZXIueCxxYi55PWViLmNlbnRlci55LGEmJkNiKFwiYWZ0ZXJDaGFuZ2VcIil9LGludmFsaWRhdGVDdXJySXRlbXM6ZnVuY3Rpb24oKXt4PSEwO2Zvcih2YXIgYT0wO2g+YTthKyspQVthXS5pdGVtJiYoQVthXS5pdGVtLm5lZWRzVXBkYXRlPSEwKX0sdXBkYXRlQ3Vyckl0ZW06ZnVuY3Rpb24oYSl7aWYoMCE9PXViKXt2YXIgYixjPU1hdGguYWJzKHViKTtpZighKGEmJjI+Yykpe2YuY3Vyckl0ZW09JGMobSksQ2IoXCJiZWZvcmVDaGFuZ2VcIix1YiksYz49aCYmKG8rPXViKyh1Yj4wPy1oOmgpLGM9aCk7Zm9yKHZhciBkPTA7Yz5kO2QrKyl1Yj4wPyhiPUEuc2hpZnQoKSxBW2gtMV09YixvKyssSWIoKG8rMikqdGIueCxiLmVsLnN0eWxlKSxmLnNldENvbnRlbnQoYixtLWMrZCsxKzEpKTooYj1BLnBvcCgpLEEudW5zaGlmdChiKSxvLS0sSWIobyp0Yi54LGIuZWwuc3R5bGUpLGYuc2V0Q29udGVudChiLG0rYy1kLTEtMSkpO2lmKGZiJiYxPT09TWF0aC5hYnModWIpKXt2YXIgZT0kYyhCKTtlLmluaXRpYWxab29tTGV2ZWwhPT1zJiYoaGQoZSxyYiksSGIoZSkpfXViPTAsZi51cGRhdGVDdXJyWm9vbUl0ZW0oKSxCPW0sQ2IoXCJhZnRlckNoYW5nZVwiKX19fSx1cGRhdGVTaXplOmZ1bmN0aW9uKGIpe2lmKCF2Yil7dmFyIGM9ZS5nZXRTY3JvbGxZKCk7aWYoTyE9PWMmJihhLnN0eWxlLnRvcD1jK1wicHhcIixPPWMpLCFiJiZ4Yi54PT09d2luZG93LmlubmVyV2lkdGgmJnhiLnk9PT13aW5kb3cuaW5uZXJIZWlnaHQpcmV0dXJuO3hiLng9d2luZG93LmlubmVyV2lkdGgseGIueT13aW5kb3cuaW5uZXJIZWlnaHQsYS5zdHlsZS5oZWlnaHQ9eGIueStcInB4XCJ9aWYocmIueD1mLnNjcm9sbFdyYXAuY2xpZW50V2lkdGgscmIueT1mLnNjcm9sbFdyYXAuY2xpZW50SGVpZ2h0LHk9e3g6MCx5Ok99LHRiLng9cmIueCtNYXRoLnJvdW5kKHJiLngqaS5zcGFjaW5nKSx0Yi55PXJiLnksSmIodGIueCpzYiksQ2IoXCJiZWZvcmVSZXNpemVcIiksdm9pZCAwIT09byl7Zm9yKHZhciBkLGcsaixrPTA7aD5rO2srKylkPUFba10sSWIoKGsrbykqdGIueCxkLmVsLnN0eWxlKSxqPXpiKG0ray0xKSxnPSRjKGopLHh8fGcubmVlZHNVcGRhdGV8fCFnLmJvdW5kcz8oZyYmZi5jbGVhblNsaWRlKGcpLGYuc2V0Q29udGVudChkLGopLDE9PT1rJiYoZi5jdXJySXRlbT1nLGYudXBkYXRlQ3Vyclpvb21JdGVtKCEwKSksZy5uZWVkc1VwZGF0ZT0hMSk6LTE9PT1kLmluZGV4JiZqPj0wJiZmLnNldENvbnRlbnQoZCxqKSxnJiZnLmNvbnRhaW5lciYmKGhkKGcscmIpLEhiKGcpKTt4PSExfXQ9cz1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwsZWI9Zi5jdXJySXRlbS5ib3VuZHMsZWImJihxYi54PWViLmNlbnRlci54LHFiLnk9ZWIuY2VudGVyLnksR2IoKSksQ2IoXCJyZXNpemVcIil9LHpvb21UbzpmdW5jdGlvbihhLGIsYyxkLGYpe2ImJih0PXMsdGMueD1NYXRoLmFicyhiLngpLXFiLngsdGMueT1NYXRoLmFicyhiLnkpLXFiLnksTGIocGIscWIpKTt2YXIgZz1SYihhLCExKSxoPXt9O1ViKFwieFwiLGcsaCxhKSxVYihcInlcIixnLGgsYSk7dmFyIGk9cyxqPXt4OnFiLngseTpxYi55fTtNYihoKTt2YXIgaz1mdW5jdGlvbihiKXsxPT09Yj8ocz1hLHFiLng9aC54LHFiLnk9aC55KToocz0oYS1pKSpiK2kscWIueD0oaC54LWoueCkqYitqLngscWIueT0oaC55LWoueSkqYitqLnkpLGYmJmYoYiksR2IoKX07Yz9jYyhcImN1c3RvbVpvb21Ub1wiLDAsMSxjLGR8fGUuZWFzaW5nLnNpbmUuaW5PdXQsayk6aygxKX19LGVjPTMwLGZjPTEwLGdjPXt9LGhjPXt9LGljPXt9LGpjPXt9LGtjPXt9LGxjPVtdLG1jPXt9LG5jPVtdLG9jPXt9LHBjPTAscWM9bmIoKSxyYz0wLHNjPW5iKCksdGM9bmIoKSx1Yz1uYigpLHZjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEueD09PWIueCYmYS55PT09Yi55fSx3Yz1mdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLmFicyhhLngtYi54KTxnJiZNYXRoLmFicyhhLnktYi55KTxnfSx4Yz1mdW5jdGlvbihhLGIpe3JldHVybiBvYy54PU1hdGguYWJzKGEueC1iLngpLG9jLnk9TWF0aC5hYnMoYS55LWIueSksTWF0aC5zcXJ0KG9jLngqb2MueCtvYy55Km9jLnkpfSx5Yz1mdW5jdGlvbigpeyQmJihLKCQpLCQ9bnVsbCl9LHpjPWZ1bmN0aW9uKCl7VyYmKCQ9Sih6YyksUGMoKSl9LEFjPWZ1bmN0aW9uKCl7cmV0dXJuIShcImZpdFwiPT09aS5zY2FsZU1vZGUmJnM9PT1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwpfSxCYz1mdW5jdGlvbihhLGIpe3JldHVybiBhP2EuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZS5pbmRleE9mKFwicHN3cF9fc2Nyb2xsLXdyYXBcIik+LTE/ITE6YihhKT9hOkJjKGEucGFyZW50Tm9kZSxiKTohMX0sQ2M9e30sRGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQ2MucHJldmVudD0hQmMoYS50YXJnZXQsaS5pc0NsaWNrYWJsZUVsZW1lbnQpLENiKFwicHJldmVudERyYWdFdmVudFwiLGEsYixDYyksQ2MucHJldmVudH0sRWM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi54PWEucGFnZVgsYi55PWEucGFnZVksYi5pZD1hLmlkZW50aWZpZXIsYn0sRmM9ZnVuY3Rpb24oYSxiLGMpe2MueD0uNSooYS54K2IueCksYy55PS41KihhLnkrYi55KX0sR2M9ZnVuY3Rpb24oYSxiLGMpe2lmKGEtUj41MCl7dmFyIGQ9bmMubGVuZ3RoPjI/bmMuc2hpZnQoKTp7fTtkLng9YixkLnk9YyxuYy5wdXNoKGQpLFI9YX19LEhjPWZ1bmN0aW9uKCl7dmFyIGE9cWIueS1mLmN1cnJJdGVtLmluaXRpYWxQb3NpdGlvbi55O3JldHVybiAxLU1hdGguYWJzKGEvKHJiLnkvMikpfSxJYz17fSxKYz17fSxLYz1bXSxMYz1mdW5jdGlvbihhKXtmb3IoO0tjLmxlbmd0aD4wOylLYy5wb3AoKTtyZXR1cm4gSD8obWI9MCxsYy5mb3JFYWNoKGZ1bmN0aW9uKGEpezA9PT1tYj9LY1swXT1hOjE9PT1tYiYmKEtjWzFdPWEpLG1iKyt9KSk6YS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKT4tMT9hLnRvdWNoZXMmJmEudG91Y2hlcy5sZW5ndGg+MCYmKEtjWzBdPUVjKGEudG91Y2hlc1swXSxJYyksYS50b3VjaGVzLmxlbmd0aD4xJiYoS2NbMV09RWMoYS50b3VjaGVzWzFdLEpjKSkpOihJYy54PWEucGFnZVgsSWMueT1hLnBhZ2VZLEljLmlkPVwiXCIsS2NbMF09SWMpLEtjfSxNYz1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxnLGg9MCxqPXFiW2FdK2JbYV0saz1iW2FdPjAsbD1zYy54K2IueCxtPXNjLngtbWMueDtyZXR1cm4gYz1qPmViLm1pblthXXx8ajxlYi5tYXhbYV0/aS5wYW5FbmRGcmljdGlvbjoxLGo9cWJbYV0rYlthXSpjLCFpLmFsbG93UGFuVG9OZXh0JiZzIT09Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsfHwoZmI/XCJoXCIhPT1oYnx8XCJ4XCIhPT1hfHxZfHwoaz8oaj5lYi5taW5bYV0mJihjPWkucGFuRW5kRnJpY3Rpb24saD1lYi5taW5bYV0taixkPWViLm1pblthXS1wYlthXSksKDA+PWR8fDA+bSkmJl9jKCk+MT8oZz1sLDA+bSYmbD5tYy54JiYoZz1tYy54KSk6ZWIubWluLnghPT1lYi5tYXgueCYmKGU9aikpOihqPGViLm1heFthXSYmKGM9aS5wYW5FbmRGcmljdGlvbixoPWotZWIubWF4W2FdLGQ9cGJbYV0tZWIubWF4W2FdKSwoMD49ZHx8bT4wKSYmX2MoKT4xPyhnPWwsbT4wJiZsPG1jLngmJihnPW1jLngpKTplYi5taW4ueCE9PWViLm1heC54JiYoZT1qKSkpOmc9bCxcInhcIiE9PWEpP3ZvaWQoZ2J8fF98fHM+Zi5jdXJySXRlbS5maXRSYXRpbyYmKHFiW2FdKz1iW2FdKmMpKToodm9pZCAwIT09ZyYmKEpiKGcsITApLF89Zz09PW1jLng/ITE6ITApLGViLm1pbi54IT09ZWIubWF4LngmJih2b2lkIDAhPT1lP3FiLng9ZTpffHwocWIueCs9Yi54KmMpKSx2b2lkIDAhPT1nKX0sTmM9ZnVuY3Rpb24oYSl7aWYoIShcIm1vdXNlZG93blwiPT09YS50eXBlJiZhLmJ1dHRvbj4wKSl7aWYoWmMpcmV0dXJuIHZvaWQgYS5wcmV2ZW50RGVmYXVsdCgpO2lmKCFWfHxcIm1vdXNlZG93blwiIT09YS50eXBlKXtpZihEYyhhLCEwKSYmYS5wcmV2ZW50RGVmYXVsdCgpLENiKFwicG9pbnRlckRvd25cIiksSCl7dmFyIGI9ZS5hcnJheVNlYXJjaChsYyxhLnBvaW50ZXJJZCxcImlkXCIpOzA+YiYmKGI9bGMubGVuZ3RoKSxsY1tiXT17eDphLnBhZ2VYLHk6YS5wYWdlWSxpZDphLnBvaW50ZXJJZH19dmFyIGM9TGMoYSksZD1jLmxlbmd0aDthYj1udWxsLGJjKCksVyYmMSE9PWR8fChXPWliPSEwLGUuYmluZCh3aW5kb3cscCxmKSxUPWxiPWpiPVU9Xz1aPVg9WT0hMSxoYj1udWxsLENiKFwiZmlyc3RUb3VjaFN0YXJ0XCIsYyksTGIocGIscWIpLG9iLng9b2IueT0wLExiKGpjLGNbMF0pLExiKGtjLGpjKSxtYy54PXRiLngqc2IsbmM9W3t4OmpjLngseTpqYy55fV0sUj1RPURiKCksUmIocywhMCkseWMoKSx6YygpKSwhYmImJmQ+MSYmIWdiJiYhXyYmKHQ9cyxZPSExLGJiPVg9ITAsb2IueT1vYi54PTAsTGIocGIscWIpLExiKGdjLGNbMF0pLExiKGhjLGNbMV0pLEZjKGdjLGhjLHVjKSx0Yy54PU1hdGguYWJzKHVjLngpLXFiLngsdGMueT1NYXRoLmFicyh1Yy55KS1xYi55LGNiPWRiPXhjKGdjLGhjKSl9fX0sT2M9ZnVuY3Rpb24oYSl7aWYoYS5wcmV2ZW50RGVmYXVsdCgpLEgpe3ZhciBiPWUuYXJyYXlTZWFyY2gobGMsYS5wb2ludGVySWQsXCJpZFwiKTtpZihiPi0xKXt2YXIgYz1sY1tiXTtjLng9YS5wYWdlWCxjLnk9YS5wYWdlWX19aWYoVyl7dmFyIGQ9TGMoYSk7aWYoaGJ8fFp8fGJiKWFiPWQ7ZWxzZXt2YXIgZj1NYXRoLmFicyhkWzBdLngtamMueCktTWF0aC5hYnMoZFswXS55LWpjLnkpO01hdGguYWJzKGYpPj1mYyYmKGhiPWY+MD9cImhcIjpcInZcIixhYj1kKX19fSxQYz1mdW5jdGlvbigpe2lmKGFiKXt2YXIgYT1hYi5sZW5ndGg7aWYoMCE9PWEpaWYoTGIoZ2MsYWJbMF0pLGljLng9Z2MueC1qYy54LGljLnk9Z2MueS1qYy55LGJiJiZhPjEpe2lmKGpjLng9Z2MueCxqYy55PWdjLnksIWljLngmJiFpYy55JiZ2YyhhYlsxXSxoYykpcmV0dXJuO0xiKGhjLGFiWzFdKSxZfHwoWT0hMCxDYihcInpvb21HZXN0dXJlU3RhcnRlZFwiKSk7dmFyIGI9eGMoZ2MsaGMpLGM9VWMoYik7Yz5mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwrZi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsLzE1JiYobGI9ITApO3ZhciBkPTEsZT1TYigpLGc9VGIoKTtpZihlPmMpaWYoaS5waW5jaFRvQ2xvc2UmJiFsYiYmdDw9Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsKXt2YXIgaD1lLWMsaj0xLWgvKGUvMS4yKTtFYihqKSxDYihcIm9uUGluY2hDbG9zZVwiLGopLGpiPSEwfWVsc2UgZD0oZS1jKS9lLGQ+MSYmKGQ9MSksYz1lLWQqKGUvMyk7ZWxzZSBjPmcmJihkPShjLWcpLyg2KmUpLGQ+MSYmKGQ9MSksYz1nK2QqZSk7MD5kJiYoZD0wKSxjYj1iLEZjKGdjLGhjLHFjKSxvYi54Kz1xYy54LXVjLngsb2IueSs9cWMueS11Yy55LExiKHVjLHFjKSxxYi54PUtiKFwieFwiLGMpLHFiLnk9S2IoXCJ5XCIsYyksVD1jPnMscz1jLEdiKCl9ZWxzZXtpZighaGIpcmV0dXJuO2lmKGliJiYoaWI9ITEsTWF0aC5hYnMoaWMueCk+PWZjJiYoaWMueC09YWJbMF0ueC1rYy54KSxNYXRoLmFicyhpYy55KT49ZmMmJihpYy55LT1hYlswXS55LWtjLnkpKSxqYy54PWdjLngsamMueT1nYy55LDA9PT1pYy54JiYwPT09aWMueSlyZXR1cm47aWYoXCJ2XCI9PT1oYiYmaS5jbG9zZU9uVmVydGljYWxEcmFnJiYhQWMoKSl7b2IueSs9aWMueSxxYi55Kz1pYy55O3ZhciBrPUhjKCk7cmV0dXJuIFU9ITAsQ2IoXCJvblZlcnRpY2FsRHJhZ1wiLGspLEViKGspLHZvaWQgR2IoKX1HYyhEYigpLGdjLngsZ2MueSksWj0hMCxlYj1mLmN1cnJJdGVtLmJvdW5kczt2YXIgbD1NYyhcInhcIixpYyk7bHx8KE1jKFwieVwiLGljKSxNYihxYiksR2IoKSl9fX0sUWM9ZnVuY3Rpb24oYSl7aWYoUC5pc09sZEFuZHJvaWQpe2lmKFYmJlwibW91c2V1cFwiPT09YS50eXBlKXJldHVybjthLnR5cGUuaW5kZXhPZihcInRvdWNoXCIpPi0xJiYoY2xlYXJUaW1lb3V0KFYpLFY9c2V0VGltZW91dChmdW5jdGlvbigpe1Y9MH0sNjAwKSl9Q2IoXCJwb2ludGVyVXBcIiksRGMoYSwhMSkmJmEucHJldmVudERlZmF1bHQoKTt2YXIgYjtpZihIKXt2YXIgYz1lLmFycmF5U2VhcmNoKGxjLGEucG9pbnRlcklkLFwiaWRcIik7aWYoYz4tMSlpZihiPWxjLnNwbGljZShjLDEpWzBdLG5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCliLnR5cGU9YS5wb2ludGVyVHlwZXx8XCJtb3VzZVwiO2Vsc2V7dmFyIGQ9ezQ6XCJtb3VzZVwiLDI6XCJ0b3VjaFwiLDM6XCJwZW5cIn07Yi50eXBlPWRbYS5wb2ludGVyVHlwZV0sYi50eXBlfHwoYi50eXBlPWEucG9pbnRlclR5cGV8fFwibW91c2VcIil9fXZhciBnLGg9TGMoYSksaT1oLmxlbmd0aDtpZihcIm1vdXNldXBcIj09PWEudHlwZSYmKGk9MCksMj09PWkpcmV0dXJuIGFiPW51bGwsITA7MT09PWkmJkxiKGtjLGhbMF0pLDAhPT1pfHxoYnx8Z2J8fChifHwoXCJtb3VzZXVwXCI9PT1hLnR5cGU/Yj17eDphLnBhZ2VYLHk6YS5wYWdlWSx0eXBlOlwibW91c2VcIn06YS5jaGFuZ2VkVG91Y2hlcyYmYS5jaGFuZ2VkVG91Y2hlc1swXSYmKGI9e3g6YS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx5OmEuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksdHlwZTpcInRvdWNoXCJ9KSksQ2IoXCJ0b3VjaFJlbGVhc2VcIixhLGIpKTt2YXIgaj0tMTtpZigwPT09aSYmKFc9ITEsZS51bmJpbmQod2luZG93LHAsZikseWMoKSxiYj9qPTA6LTEhPT1yYyYmKGo9RGIoKS1yYykpLHJjPTE9PT1pP0RiKCk6LTEsZz0tMSE9PWomJjE1MD5qP1wiem9vbVwiOlwic3dpcGVcIixiYiYmMj5pJiYoYmI9ITEsMT09PWkmJihnPVwiem9vbVBvaW50ZXJVcFwiKSxDYihcInpvb21HZXN0dXJlRW5kZWRcIikpLGFiPW51bGwsWnx8WXx8Z2J8fFUpaWYoYmMoKSxTfHwoUz1SYygpKSxTLmNhbGN1bGF0ZVN3aXBlU3BlZWQoXCJ4XCIpLFUpe3ZhciBrPUhjKCk7aWYoLjY+aylmLmNsb3NlKCk7ZWxzZXt2YXIgbD1xYi55LG09a2I7Y2MoXCJ2ZXJ0aWNhbERyYWdcIiwwLDEsMzAwLGUuZWFzaW5nLmN1YmljLm91dCxmdW5jdGlvbihhKXtxYi55PShmLmN1cnJJdGVtLmluaXRpYWxQb3NpdGlvbi55LWwpKmErbCxFYigoMS1tKSphK20pLEdiKCl9KSxDYihcIm9uVmVydGljYWxEcmFnXCIsMSl9fWVsc2V7aWYoKF98fGdiKSYmMD09PWkpe3ZhciBuPVRjKGcsUyk7aWYobilyZXR1cm47Zz1cInpvb21Qb2ludGVyVXBcIn1pZighZ2IpcmV0dXJuXCJzd2lwZVwiIT09Zz92b2lkIFZjKCk6dm9pZCghXyYmcz5mLmN1cnJJdGVtLmZpdFJhdGlvJiZTYyhTKSl9fSxSYz1mdW5jdGlvbigpe3ZhciBhLGIsYz17bGFzdEZsaWNrT2Zmc2V0Ont9LGxhc3RGbGlja0Rpc3Q6e30sbGFzdEZsaWNrU3BlZWQ6e30sc2xvd0Rvd25SYXRpbzp7fSxzbG93RG93blJhdGlvUmV2ZXJzZTp7fSxzcGVlZERlY2VsZXJhdGlvblJhdGlvOnt9LHNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnM6e30sZGlzdGFuY2VPZmZzZXQ6e30sYmFja0FuaW1EZXN0aW5hdGlvbjp7fSxiYWNrQW5pbVN0YXJ0ZWQ6e30sY2FsY3VsYXRlU3dpcGVTcGVlZDpmdW5jdGlvbihkKXtuYy5sZW5ndGg+MT8oYT1EYigpLVIrNTAsYj1uY1tuYy5sZW5ndGgtMl1bZF0pOihhPURiKCktUSxiPWtjW2RdKSxjLmxhc3RGbGlja09mZnNldFtkXT1qY1tkXS1iLGMubGFzdEZsaWNrRGlzdFtkXT1NYXRoLmFicyhjLmxhc3RGbGlja09mZnNldFtkXSksYy5sYXN0RmxpY2tTcGVlZFtkXT1jLmxhc3RGbGlja0Rpc3RbZF0+MjA/Yy5sYXN0RmxpY2tPZmZzZXRbZF0vYTowLE1hdGguYWJzKGMubGFzdEZsaWNrU3BlZWRbZF0pPC4xJiYoYy5sYXN0RmxpY2tTcGVlZFtkXT0wKSxjLnNsb3dEb3duUmF0aW9bZF09Ljk1LGMuc2xvd0Rvd25SYXRpb1JldmVyc2VbZF09MS1jLnNsb3dEb3duUmF0aW9bZF0sYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2RdPTF9LGNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0OmZ1bmN0aW9uKGEsYil7Yy5iYWNrQW5pbVN0YXJ0ZWRbYV18fChxYlthXT5lYi5taW5bYV0/Yy5iYWNrQW5pbURlc3RpbmF0aW9uW2FdPWViLm1pblthXTpxYlthXTxlYi5tYXhbYV0mJihjLmJhY2tBbmltRGVzdGluYXRpb25bYV09ZWIubWF4W2FdKSx2b2lkIDAhPT1jLmJhY2tBbmltRGVzdGluYXRpb25bYV0mJihjLnNsb3dEb3duUmF0aW9bYV09LjcsYy5zbG93RG93blJhdGlvUmV2ZXJzZVthXT0xLWMuc2xvd0Rvd25SYXRpb1thXSxjLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnNbYV08LjA1JiYoYy5sYXN0RmxpY2tTcGVlZFthXT0wLGMuYmFja0FuaW1TdGFydGVkW2FdPSEwLGNjKFwiYm91bmNlWm9vbVBhblwiK2EscWJbYV0sYy5iYWNrQW5pbURlc3RpbmF0aW9uW2FdLGJ8fDMwMCxlLmVhc2luZy5zaW5lLm91dCxmdW5jdGlvbihiKXtxYlthXT1iLEdiKCl9KSkpKX0sY2FsY3VsYXRlQW5pbU9mZnNldDpmdW5jdGlvbihhKXtjLmJhY2tBbmltU3RhcnRlZFthXXx8KGMuc3BlZWREZWNlbGVyYXRpb25SYXRpb1thXT1jLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9bYV0qKGMuc2xvd0Rvd25SYXRpb1thXStjLnNsb3dEb3duUmF0aW9SZXZlcnNlW2FdLWMuc2xvd0Rvd25SYXRpb1JldmVyc2VbYV0qYy50aW1lRGlmZi8xMCksYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzW2FdPU1hdGguYWJzKGMubGFzdEZsaWNrU3BlZWRbYV0qYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2FdKSxjLmRpc3RhbmNlT2Zmc2V0W2FdPWMubGFzdEZsaWNrU3BlZWRbYV0qYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2FdKmMudGltZURpZmYscWJbYV0rPWMuZGlzdGFuY2VPZmZzZXRbYV0pfSxwYW5BbmltTG9vcDpmdW5jdGlvbigpe3JldHVybiBaYi56b29tUGFuJiYoWmIuem9vbVBhbi5yYWY9SihjLnBhbkFuaW1Mb29wKSxjLm5vdz1EYigpLGMudGltZURpZmY9Yy5ub3ctYy5sYXN0Tm93LGMubGFzdE5vdz1jLm5vdyxjLmNhbGN1bGF0ZUFuaW1PZmZzZXQoXCJ4XCIpLGMuY2FsY3VsYXRlQW5pbU9mZnNldChcInlcIiksR2IoKSxjLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieFwiKSxjLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieVwiKSxjLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnMueDwuMDUmJmMuc3BlZWREZWNlbGVyYXRpb25SYXRpb0Ficy55PC4wNSk/KHFiLng9TWF0aC5yb3VuZChxYi54KSxxYi55PU1hdGgucm91bmQocWIueSksR2IoKSx2b2lkIF9iKFwiem9vbVBhblwiKSk6dm9pZCAwfX07cmV0dXJuIGN9LFNjPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNhbGN1bGF0ZVN3aXBlU3BlZWQoXCJ5XCIpLGViPWYuY3Vyckl0ZW0uYm91bmRzLGEuYmFja0FuaW1EZXN0aW5hdGlvbj17fSxhLmJhY2tBbmltU3RhcnRlZD17fSxNYXRoLmFicyhhLmxhc3RGbGlja1NwZWVkLngpPD0uMDUmJk1hdGguYWJzKGEubGFzdEZsaWNrU3BlZWQueSk8PS4wNT8oYS5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzLng9YS5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzLnk9MCxhLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieFwiKSxhLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieVwiKSwhMCk6KGFjKFwiem9vbVBhblwiKSxhLmxhc3ROb3c9RGIoKSx2b2lkIGEucGFuQW5pbUxvb3AoKSl9LFRjPWZ1bmN0aW9uKGEsYil7dmFyIGM7Z2J8fChwYz1tKTt2YXIgZDtpZihcInN3aXBlXCI9PT1hKXt2YXIgZz1qYy54LWtjLngsaD1iLmxhc3RGbGlja0Rpc3QueDwxMDtnPmVjJiYoaHx8Yi5sYXN0RmxpY2tPZmZzZXQueD4yMCk/ZD0tMTotZWM+ZyYmKGh8fGIubGFzdEZsaWNrT2Zmc2V0Lng8LTIwKSYmKGQ9MSl9dmFyIGo7ZCYmKG0rPWQsMD5tPyhtPWkubG9vcD9fYygpLTE6MCxqPSEwKTptPj1fYygpJiYobT1pLmxvb3A/MDpfYygpLTEsaj0hMCksKCFqfHxpLmxvb3ApJiYodWIrPWQsc2ItPWQsYz0hMCkpO3ZhciBrLGw9dGIueCpzYixuPU1hdGguYWJzKGwtc2MueCk7cmV0dXJuIGN8fGw+c2MueD09Yi5sYXN0RmxpY2tTcGVlZC54PjA/KGs9TWF0aC5hYnMoYi5sYXN0RmxpY2tTcGVlZC54KT4wP24vTWF0aC5hYnMoYi5sYXN0RmxpY2tTcGVlZC54KTozMzMsaz1NYXRoLm1pbihrLDQwMCksaz1NYXRoLm1heChrLDI1MCkpOms9MzMzLHBjPT09bSYmKGM9ITEpLGdiPSEwLGNjKFwibWFpblNjcm9sbFwiLHNjLngsbCxrLGUuZWFzaW5nLmN1YmljLm91dCxKYixmdW5jdGlvbigpe2JjKCksZ2I9ITEscGM9LTEsKGN8fHBjIT09bSkmJmYudXBkYXRlQ3Vyckl0ZW0oKSxDYihcIm1haW5TY3JvbGxBbmltQ29tcGxldGVcIil9KSxjJiZmLnVwZGF0ZUN1cnJJdGVtKCEwKSxjfSxVYz1mdW5jdGlvbihhKXtyZXR1cm4gMS9kYiphKnR9LFZjPWZ1bmN0aW9uKCl7dmFyIGE9cyxiPVNiKCksYz1UYigpO2I+cz9hPWI6cz5jJiYoYT1jKTt2YXIgZCxnPTEsaD1rYjtyZXR1cm4gamImJiFUJiYhbGImJmI+cz8oZi5jbG9zZSgpLCEwKTooamImJihkPWZ1bmN0aW9uKGEpe0ViKChnLWgpKmEraCl9KSxmLnpvb21UbyhhLDAsMzAwLGUuZWFzaW5nLmN1YmljLm91dCxkKSwhMCl9O3liKFwiR2VzdHVyZXNcIix7cHVibGljTWV0aG9kczp7aW5pdEdlc3R1cmVzOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXtDPWErYixEPWErYyxFPWErZCxGPWU/YStlOlwiXCJ9O0g9UC5wb2ludGVyRXZlbnQsSCYmUC50b3VjaCYmKFAudG91Y2g9ITEpLEg/bmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkP2EoXCJwb2ludGVyXCIsXCJkb3duXCIsXCJtb3ZlXCIsXCJ1cFwiLFwiY2FuY2VsXCIpOmEoXCJNU1BvaW50ZXJcIixcIkRvd25cIixcIk1vdmVcIixcIlVwXCIsXCJDYW5jZWxcIik6UC50b3VjaD8oYShcInRvdWNoXCIsXCJzdGFydFwiLFwibW92ZVwiLFwiZW5kXCIsXCJjYW5jZWxcIiksST0hMCk6YShcIm1vdXNlXCIsXCJkb3duXCIsXCJtb3ZlXCIsXCJ1cFwiKSxwPUQrXCIgXCIrRStcIiBcIitGLHE9QyxIJiYhSSYmKEk9bmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjF8fG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzPjEpLGYubGlrZWx5VG91Y2hEZXZpY2U9SSxyW0NdPU5jLHJbRF09T2MscltFXT1RYyxGJiYocltGXT1yW0VdKSxQLnRvdWNoJiYocSs9XCIgbW91c2Vkb3duXCIscCs9XCIgbW91c2Vtb3ZlIG1vdXNldXBcIixyLm1vdXNlZG93bj1yW0NdLHIubW91c2Vtb3ZlPXJbRF0sci5tb3VzZXVwPXJbRV0pLEl8fChpLmFsbG93UGFuVG9OZXh0PSExKX19fSk7dmFyIFdjLFhjLFljLFpjLCRjLF9jLGFkLGJkPWZ1bmN0aW9uKGIsYyxkLGcpe1djJiZjbGVhclRpbWVvdXQoV2MpLFpjPSEwLFljPSEwO3ZhciBoO2IuaW5pdGlhbExheW91dD8oaD1iLmluaXRpYWxMYXlvdXQsYi5pbml0aWFsTGF5b3V0PW51bGwpOmg9aS5nZXRUaHVtYkJvdW5kc0ZuJiZpLmdldFRodW1iQm91bmRzRm4obSk7dmFyIGo9ZD9pLmhpZGVBbmltYXRpb25EdXJhdGlvbjppLnNob3dBbmltYXRpb25EdXJhdGlvbixrPWZ1bmN0aW9uKCl7X2IoXCJpbml0aWFsWm9vbVwiKSxkPyhmLnRlbXBsYXRlLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpLGYuYmcucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIikpOihFYigxKSxjJiYoYy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIiksZS5hZGRDbGFzcyhhLFwicHN3cC0tYW5pbWF0ZWQtaW5cIiksQ2IoXCJpbml0aWFsWm9vbVwiKyhkP1wiT3V0RW5kXCI6XCJJbkVuZFwiKSkpLGcmJmcoKSxaYz0hMX07aWYoIWp8fCFofHx2b2lkIDA9PT1oLngpe3ZhciBuPWZ1bmN0aW9uKCl7Q2IoXCJpbml0aWFsWm9vbVwiKyhkP1wiT3V0XCI6XCJJblwiKSkscz1iLmluaXRpYWxab29tTGV2ZWwsTGIocWIsYi5pbml0aWFsUG9zaXRpb24pLEdiKCksYS5zdHlsZS5vcGFjaXR5PWQ/MDoxLEViKDEpLGsoKX07cmV0dXJuIHZvaWQgbigpfXZhciBvPWZ1bmN0aW9uKCl7dmFyIGM9bCxnPSFmLmN1cnJJdGVtLnNyY3x8Zi5jdXJySXRlbS5sb2FkRXJyb3J8fGkuc2hvd0hpZGVPcGFjaXR5O2IubWluaUltZyYmKGIubWluaUltZy5zdHlsZS53ZWJraXRCYWNrZmFjZVZpc2liaWxpdHk9XCJoaWRkZW5cIiksZHx8KHM9aC53L2IudyxxYi54PWgueCxxYi55PWgueS1NLGZbZz9cInRlbXBsYXRlXCI6XCJiZ1wiXS5zdHlsZS5vcGFjaXR5PS4wMDEsR2IoKSksYWMoXCJpbml0aWFsWm9vbVwiKSxkJiYhYyYmZS5yZW1vdmVDbGFzcyhhLFwicHN3cC0tYW5pbWF0ZWQtaW5cIiksZyYmKGQ/ZVsoYz9cInJlbW92ZVwiOlwiYWRkXCIpK1wiQ2xhc3NcIl0oYSxcInBzd3AtLWFuaW1hdGVfb3BhY2l0eVwiKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hZGRDbGFzcyhhLFwicHN3cC0tYW5pbWF0ZV9vcGFjaXR5XCIpfSwzMCkpLFdjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihDYihcImluaXRpYWxab29tXCIrKGQ/XCJPdXRcIjpcIkluXCIpKSxkKXt2YXIgZj1oLncvYi53LGk9e3g6cWIueCx5OnFiLnl9LGw9cyxtPU0sbj1rYixvPWZ1bmN0aW9uKGIpe3omJihtPWUuZ2V0U2Nyb2xsWSgpLHo9ITEpLDE9PT1iPyhzPWYscWIueD1oLngscWIueT1oLnktbSk6KHM9KGYtbCkqYitsLHFiLng9KGgueC1pLngpKmIraS54LHFiLnk9KGgueS1tLWkueSkqYitpLnkpLEdiKCksZz9hLnN0eWxlLm9wYWNpdHk9MS1iOkViKG4tYipuKX07Yz9jYyhcImluaXRpYWxab29tXCIsMCwxLGosZS5lYXNpbmcuY3ViaWMub3V0LG8sayk6KG8oMSksV2M9c2V0VGltZW91dChrLGorMjApKX1lbHNlIHM9Yi5pbml0aWFsWm9vbUxldmVsLExiKHFiLGIuaW5pdGlhbFBvc2l0aW9uKSxHYigpLEViKDEpLGc/YS5zdHlsZS5vcGFjaXR5PTE6RWIoMSksV2M9c2V0VGltZW91dChrLGorMjApfSxkPzI1OjkwKX07bygpfSxjZD17fSxkZD1bXSxlZD17aW5kZXg6MCxlcnJvck1zZzonPGRpdiBjbGFzcz1cInBzd3BfX2Vycm9yLW1zZ1wiPjxhIGhyZWY9XCIldXJsJVwiIHRhcmdldD1cIl9ibGFua1wiPlRoZSBpbWFnZTwvYT4gY291bGQgbm90IGJlIGxvYWRlZC48L2Rpdj4nLGZvcmNlUHJvZ3Jlc3NpdmVMb2FkaW5nOiExLHByZWxvYWQ6WzEsMV0sZ2V0TnVtSXRlbXNGbjpmdW5jdGlvbigpe3JldHVybiBYYy5sZW5ndGh9fSxmZD1mdW5jdGlvbigpe3JldHVybntjZW50ZXI6e3g6MCx5OjB9LG1heDp7eDowLHk6MH0sbWluOnt4OjAseTowfX19LGdkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmJvdW5kcztkLmNlbnRlci54PU1hdGgucm91bmQoKGNkLngtYikvMiksZC5jZW50ZXIueT1NYXRoLnJvdW5kKChjZC55LWMpLzIpK2EudkdhcC50b3AsZC5tYXgueD1iPmNkLng/TWF0aC5yb3VuZChjZC54LWIpOmQuY2VudGVyLngsZC5tYXgueT1jPmNkLnk/TWF0aC5yb3VuZChjZC55LWMpK2EudkdhcC50b3A6ZC5jZW50ZXIueSxkLm1pbi54PWI+Y2QueD8wOmQuY2VudGVyLngsZC5taW4ueT1jPmNkLnk/YS52R2FwLnRvcDpkLmNlbnRlci55fSxoZD1mdW5jdGlvbihhLGIsYyl7aWYoYS5zcmMmJiFhLmxvYWRFcnJvcil7dmFyIGQ9IWM7aWYoZCYmKGEudkdhcHx8KGEudkdhcD17dG9wOjAsYm90dG9tOjB9KSxDYihcInBhcnNlVmVydGljYWxNYXJnaW5cIixhKSksY2QueD1iLngsY2QueT1iLnktYS52R2FwLnRvcC1hLnZHYXAuYm90dG9tLGQpe3ZhciBlPWNkLngvYS53LGY9Y2QueS9hLmg7YS5maXRSYXRpbz1mPmU/ZTpmO3ZhciBnPWkuc2NhbGVNb2RlO1wib3JpZ1wiPT09Zz9jPTE6XCJmaXRcIj09PWcmJihjPWEuZml0UmF0aW8pLGM+MSYmKGM9MSksYS5pbml0aWFsWm9vbUxldmVsPWMsYS5ib3VuZHN8fChhLmJvdW5kcz1mZCgpKX1pZighYylyZXR1cm47cmV0dXJuIGdkKGEsYS53KmMsYS5oKmMpLGQmJmM9PT1hLmluaXRpYWxab29tTGV2ZWwmJihhLmluaXRpYWxQb3NpdGlvbj1hLmJvdW5kcy5jZW50ZXIpLGEuYm91bmRzfXJldHVybiBhLnc9YS5oPTAsYS5pbml0aWFsWm9vbUxldmVsPWEuZml0UmF0aW89MSxhLmJvdW5kcz1mZCgpLGEuaW5pdGlhbFBvc2l0aW9uPWEuYm91bmRzLmNlbnRlcixhLmJvdW5kc30saWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2lmKCFiLmxvYWRFcnJvcil7dmFyIGgsaj1mLmlzRHJhZ2dpbmcoKSYmIWYuaXNab29taW5nKCksaz1hPT09bXx8Zi5pc01haW5TY3JvbGxBbmltYXRpbmcoKXx8ajshZSYmKEl8fGkuYWx3YXlzRmFkZUluKSYmayYmKGg9ITApLGQmJihoJiYoZC5zdHlsZS5vcGFjaXR5PTApLGIuaW1hZ2VBcHBlbmRlZD0hMCxjLmFwcGVuZENoaWxkKGQpLGgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnN0eWxlLm9wYWNpdHk9MSxnJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YiYmYi5sb2FkZWQmJmIucGxhY2Vob2xkZXImJihiLnBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYi5wbGFjZWhvbGRlcj1udWxsKX0sNTAwKX0sNTApKX19LGpkPWZ1bmN0aW9uKGEpe2EubG9hZGluZz0hMCxhLmxvYWRlZD0hMTt2YXIgYj1hLmltZz1lLmNyZWF0ZUVsKFwicHN3cF9faW1nXCIsXCJpbWdcIiksYz1mdW5jdGlvbigpe2EubG9hZGluZz0hMSxhLmxvYWRlZD0hMCxhLmxvYWRDb21wbGV0ZT9hLmxvYWRDb21wbGV0ZShhKTphLmltZz1udWxsLGIub25sb2FkPWIub25lcnJvcj1udWxsLGI9bnVsbH07cmV0dXJuIGIub25sb2FkPWMsYi5vbmVycm9yPWZ1bmN0aW9uKCl7YS5sb2FkRXJyb3I9ITAsYygpfSxiLnNyYz1hLnNyYyxifSxrZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLnNyYyYmYS5sb2FkRXJyb3ImJmEuY29udGFpbmVyPyhiJiYoYS5jb250YWluZXIuaW5uZXJIVE1MPVwiXCIpLGEuY29udGFpbmVyLmlubmVySFRNTD1pLmVycm9yTXNnLnJlcGxhY2UoXCIldXJsJVwiLGEuc3JjKSwhMCk6dm9pZCAwfSxsZD1mdW5jdGlvbigpe2lmKGRkLmxlbmd0aCl7Zm9yKHZhciBhLGI9MDtiPGRkLmxlbmd0aDtiKyspYT1kZFtiXSxhLmhvbGRlci5pbmRleD09PWEuaW5kZXgmJmlkKGEuaW5kZXgsYS5pdGVtLGEuYmFzZURpdixhLmltZyk7ZGQ9W119fTt5YihcIkNvbnRyb2xsZXJcIix7cHVibGljTWV0aG9kczp7bGF6eUxvYWRJdGVtOmZ1bmN0aW9uKGEpe2E9emIoYSk7dmFyIGI9JGMoYSk7YiYmYi5zcmMmJiFiLmxvYWRlZCYmIWIubG9hZGluZyYmKENiKFwiZ2V0dGluZ0RhdGFcIixhLGIpLGpkKGIpKX0saW5pdENvbnRyb2xsZXI6ZnVuY3Rpb24oKXtlLmV4dGVuZChpLGVkLCEwKSxmLml0ZW1zPVhjPWMsJGM9Zi5nZXRJdGVtQXQsX2M9aS5nZXROdW1JdGVtc0ZuLGFkPWkubG9vcCxfYygpPDMmJihpLmxvb3A9ITEpLEJiKFwiYmVmb3JlQ2hhbmdlXCIsZnVuY3Rpb24oYSl7dmFyIGIsYz1pLnByZWxvYWQsZD1udWxsPT09YT8hMDphPjAsZT1NYXRoLm1pbihjWzBdLF9jKCkpLGc9TWF0aC5taW4oY1sxXSxfYygpKTtmb3IoYj0xOyhkP2c6ZSk+PWI7YisrKWYubGF6eUxvYWRJdGVtKG0rYik7Zm9yKGI9MTsoZD9lOmcpPj1iO2IrKylmLmxhenlMb2FkSXRlbShtLWIpfSksQmIoXCJpbml0aWFsTGF5b3V0XCIsZnVuY3Rpb24oKXtmLmN1cnJJdGVtLmluaXRpYWxMYXlvdXQ9aS5nZXRUaHVtYkJvdW5kc0ZuJiZpLmdldFRodW1iQm91bmRzRm4obSl9KSxCYihcIm1haW5TY3JvbGxBbmltQ29tcGxldGVcIixsZCksQmIoXCJpbml0aWFsWm9vbUluRW5kXCIsbGQpLEJiKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtiPFhjLmxlbmd0aDtiKyspYT1YY1tiXSxhLmNvbnRhaW5lciYmKGEuY29udGFpbmVyPW51bGwpLGEucGxhY2Vob2xkZXImJihhLnBsYWNlaG9sZGVyPW51bGwpLGEuaW1nJiYoYS5pbWc9bnVsbCksYS5wcmVsb2FkZXImJihhLnByZWxvYWRlcj1udWxsKSxhLmxvYWRFcnJvciYmKGEubG9hZGVkPWEubG9hZEVycm9yPSExKTtkZD1udWxsfSl9LGdldEl0ZW1BdDpmdW5jdGlvbihhKXtyZXR1cm4gYT49MCYmdm9pZCAwIT09WGNbYV0/WGNbYV06ITF9LGFsbG93UHJvZ3Jlc3NpdmVJbWc6ZnVuY3Rpb24oKXtyZXR1cm4gaS5mb3JjZVByb2dyZXNzaXZlTG9hZGluZ3x8IUl8fGkubW91c2VVc2VkfHxzY3JlZW4ud2lkdGg+MTIwMH0sc2V0Q29udGVudDpmdW5jdGlvbihhLGIpe2kubG9vcCYmKGI9emIoYikpO3ZhciBjPWYuZ2V0SXRlbUF0KGEuaW5kZXgpO2MmJihjLmNvbnRhaW5lcj1udWxsKTt2YXIgZCxnPWYuZ2V0SXRlbUF0KGIpO2lmKCFnKXJldHVybiB2b2lkKGEuZWwuaW5uZXJIVE1MPVwiXCIpO0NiKFwiZ2V0dGluZ0RhdGFcIixiLGcpLGEuaW5kZXg9YixhLml0ZW09Zzt2YXIgaD1nLmNvbnRhaW5lcj1lLmNyZWF0ZUVsKFwicHN3cF9fem9vbS13cmFwXCIpO2lmKCFnLnNyYyYmZy5odG1sJiYoZy5odG1sLnRhZ05hbWU/aC5hcHBlbmRDaGlsZChnLmh0bWwpOmguaW5uZXJIVE1MPWcuaHRtbCksa2QoZyksIWcuc3JjfHxnLmxvYWRFcnJvcnx8Zy5sb2FkZWQpZy5zcmMmJiFnLmxvYWRFcnJvciYmKGQ9ZS5jcmVhdGVFbChcInBzd3BfX2ltZ1wiLFwiaW1nXCIpLGQuc3R5bGUud2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5PVwiaGlkZGVuXCIsZC5zdHlsZS5vcGFjaXR5PTEsZC5zcmM9Zy5zcmMsaWQoYixnLGgsZCwhMCkpO2Vsc2V7aWYoZy5sb2FkQ29tcGxldGU9ZnVuY3Rpb24oYyl7aWYoail7aWYoYy5pbWcuc3R5bGUud2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5PVwiaGlkZGVuXCIsYSYmYS5pbmRleD09PWIpe2lmKGtkKGMsITApKXJldHVybiBjLmxvYWRDb21wbGV0ZT1jLmltZz1udWxsLGhkKGMscmIpLEhiKGMpLHZvaWQoYS5pbmRleD09PW0mJmYudXBkYXRlQ3Vyclpvb21JdGVtKCkpO2MuaW1hZ2VBcHBlbmRlZD8hWmMmJmMucGxhY2Vob2xkZXImJihjLnBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYy5wbGFjZWhvbGRlcj1udWxsKTpQLnRyYW5zZm9ybSYmKGdifHxaYyk/ZGQucHVzaCh7aXRlbTpjLGJhc2VEaXY6aCxpbWc6Yy5pbWcsaW5kZXg6Yixob2xkZXI6YX0pOmlkKGIsYyxoLGMuaW1nLGdifHxaYyl9Yy5sb2FkQ29tcGxldGU9bnVsbCxjLmltZz1udWxsLENiKFwiaW1hZ2VMb2FkQ29tcGxldGVcIixiLGMpfX0sZS5mZWF0dXJlcy50cmFuc2Zvcm0pe3ZhciBrPVwicHN3cF9faW1nIHBzd3BfX2ltZy0tcGxhY2Vob2xkZXJcIjtrKz1nLm1zcmM/XCJcIjpcIiBwc3dwX19pbWctLXBsYWNlaG9sZGVyLS1ibGFua1wiO3ZhciBsPWUuY3JlYXRlRWwoayxnLm1zcmM/XCJpbWdcIjpcIlwiKTtnLm1zcmMmJihsLnNyYz1nLm1zcmMpLGwuc3R5bGUud2lkdGg9Zy53K1wicHhcIixsLnN0eWxlLmhlaWdodD1nLmgrXCJweFwiLGguYXBwZW5kQ2hpbGQobCksZy5wbGFjZWhvbGRlcj1sfWcubG9hZGluZ3x8amQoZyksZi5hbGxvd1Byb2dyZXNzaXZlSW1nKCkmJighWWMmJlAudHJhbnNmb3JtP2RkLnB1c2goe2l0ZW06ZyxiYXNlRGl2OmgsaW1nOmcuaW1nLGluZGV4OmIsaG9sZGVyOmF9KTppZChiLGcsaCxnLmltZywhMCwhMCkpfWhkKGcscmIpLFljfHxiIT09bT9IYihnKTooZmI9aC5zdHlsZSxiZChnLGR8fGcuaW1nKSksYS5lbC5pbm5lckhUTUw9XCJcIixhLmVsLmFwcGVuZENoaWxkKGgpfSxjbGVhblNsaWRlOmZ1bmN0aW9uKGEpe2EuaW1nJiYoYS5pbWcub25sb2FkPWEuaW1nLm9uZXJyb3I9bnVsbCksYS5sb2FkZWQ9YS5sb2FkaW5nPWEuaW1nPWEuaW1hZ2VBcHBlbmRlZD0hMX19fSk7dmFyIG1kLG5kPXt9LG9kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLGU9e29yaWdFdmVudDphLHRhcmdldDphLnRhcmdldCxyZWxlYXNlUG9pbnQ6Yixwb2ludGVyVHlwZTpjfHxcInRvdWNoXCJ9O2QuaW5pdEN1c3RvbUV2ZW50KFwicHN3cFRhcFwiLCEwLCEwLGUpLGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZCl9O3liKFwiVGFwXCIse3B1YmxpY01ldGhvZHM6e2luaXRUYXA6ZnVuY3Rpb24oKXtCYihcImZpcnN0VG91Y2hTdGFydFwiLGYub25UYXBTdGFydCksQmIoXCJ0b3VjaFJlbGVhc2VcIixmLm9uVGFwUmVsZWFzZSksQmIoXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtuZD17fSxtZD1udWxsfSl9LG9uVGFwU3RhcnQ6ZnVuY3Rpb24oYSl7YS5sZW5ndGg+MSYmKGNsZWFyVGltZW91dChtZCksbWQ9bnVsbCl9LG9uVGFwUmVsZWFzZTpmdW5jdGlvbihhLGIpe2lmKGImJiFaJiYhWCYmISRiKXt2YXIgYz1iO2lmKG1kJiYoY2xlYXJUaW1lb3V0KG1kKSxtZD1udWxsLHdjKGMsbmQpKSlyZXR1cm4gdm9pZCBDYihcImRvdWJsZVRhcFwiLGMpO2lmKFwibW91c2VcIj09PWIudHlwZSlyZXR1cm4gdm9pZCBvZChhLGIsXCJtb3VzZVwiKTt2YXIgZD1hLnRhcmdldC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7aWYoXCJCVVRUT05cIj09PWR8fGUuaGFzQ2xhc3MoYS50YXJnZXQsXCJwc3dwX19zaW5nbGUtdGFwXCIpKXJldHVybiB2b2lkIG9kKGEsYik7TGIobmQsYyksbWQ9c2V0VGltZW91dChmdW5jdGlvbigpe29kKGEsYiksbWQ9bnVsbH0sMzAwKX19fX0pO3ZhciBwZDt5YihcIkRlc2t0b3Bab29tXCIse3B1YmxpY01ldGhvZHM6e2luaXREZXNrdG9wWm9vbTpmdW5jdGlvbigpe058fChJP0JiKFwibW91c2VVc2VkXCIsZnVuY3Rpb24oKXtmLnNldHVwRGVza3RvcFpvb20oKX0pOmYuc2V0dXBEZXNrdG9wWm9vbSghMCkpfSxzZXR1cERlc2t0b3Bab29tOmZ1bmN0aW9uKGIpe3BkPXt9O3ZhciBjPVwid2hlZWwgbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbFwiO0JiKFwiYmluZEV2ZW50c1wiLGZ1bmN0aW9uKCl7ZS5iaW5kKGEsYyxmLmhhbmRsZU1vdXNlV2hlZWwpfSksQmIoXCJ1bmJpbmRFdmVudHNcIixmdW5jdGlvbigpe3BkJiZlLnVuYmluZChhLGMsZi5oYW5kbGVNb3VzZVdoZWVsKX0pLGYubW91c2Vab29tZWRJbj0hMTt2YXIgZCxnPWZ1bmN0aW9uKCl7Zi5tb3VzZVpvb21lZEluJiYoZS5yZW1vdmVDbGFzcyhhLFwicHN3cC0tem9vbWVkLWluXCIpLGYubW91c2Vab29tZWRJbj0hMSksMT5zP2UuYWRkQ2xhc3MoYSxcInBzd3AtLXpvb20tYWxsb3dlZFwiKTplLnJlbW92ZUNsYXNzKGEsXCJwc3dwLS16b29tLWFsbG93ZWRcIiksaCgpfSxoPWZ1bmN0aW9uKCl7ZCYmKGUucmVtb3ZlQ2xhc3MoYSxcInBzd3AtLWRyYWdnaW5nXCIpLGQ9ITEpfTtCYihcInJlc2l6ZVwiLGcpLEJiKFwiYWZ0ZXJDaGFuZ2VcIixnKSxCYihcInBvaW50ZXJEb3duXCIsZnVuY3Rpb24oKXtmLm1vdXNlWm9vbWVkSW4mJihkPSEwLGUuYWRkQ2xhc3MoYSxcInBzd3AtLWRyYWdnaW5nXCIpKX0pLEJiKFwicG9pbnRlclVwXCIsaCksYnx8ZygpfSxoYW5kbGVNb3VzZVdoZWVsOmZ1bmN0aW9uKGEpe2lmKHM8PWYuY3Vyckl0ZW0uZml0UmF0aW8pcmV0dXJuIGkuY2xvc2VPblNjcm9sbHx8YS5wcmV2ZW50RGVmYXVsdCgpLCEwO2lmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLHBkLng9MCxcImRlbHRhWFwiaW4gYSlwZC54PWEuZGVsdGFYLHBkLnk9YS5kZWx0YVk7ZWxzZSBpZihcIndoZWVsRGVsdGFcImluIGEpYS53aGVlbERlbHRhWCYmKHBkLng9LS4xNiphLndoZWVsRGVsdGFYKSxwZC55PWEud2hlZWxEZWx0YVk/LS4xNiphLndoZWVsRGVsdGFZOi0uMTYqYS53aGVlbERlbHRhO2Vsc2V7aWYoIShcImRldGFpbFwiaW4gYSkpcmV0dXJuO3BkLnk9YS5kZXRhaWx9UmIocywhMCksZi5wYW5UbyhxYi54LXBkLngscWIueS1wZC55KX0sdG9nZ2xlRGVza3RvcFpvb206ZnVuY3Rpb24oYil7Yj1ifHx7eDpyYi54LzIseTpyYi55LzIrTX07dmFyIGM9aS5nZXREb3VibGVUYXBab29tKCEwLGYuY3Vyckl0ZW0pLGQ9cz09PWM7Zi5tb3VzZVpvb21lZEluPSFkLGYuem9vbVRvKGQ/Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsOmMsYiwzMzMpLGVbKGQ/XCJyZW1vdmVcIjpcImFkZFwiKStcIkNsYXNzXCJdKGEsXCJwc3dwLS16b29tZWQtaW5cIil9fX0pO3ZhciBxZCxyZCxzZCx0ZCx1ZCx2ZCx3ZCx4ZCx5ZCx6ZCxBZCxCZCxDZD17aGlzdG9yeTohMCxnYWxsZXJ5VUlEOjF9LERkPWZ1bmN0aW9uKCl7cmV0dXJuIEFkLmhhc2guc3Vic3RyaW5nKDEpfSxFZD1mdW5jdGlvbigpe3FkJiZjbGVhclRpbWVvdXQocWQpLHNkJiZjbGVhclRpbWVvdXQoc2QpfSxGZD1mdW5jdGlvbigpe3ZhciBhPURkKCksYj17fTtpZihhLmxlbmd0aDw1KXJldHVybiBiO2Zvcih2YXIgYz1hLnNwbGl0KFwiJlwiKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXSl7dmFyIGU9Y1tkXS5zcGxpdChcIj1cIik7ZS5sZW5ndGg8Mnx8KGJbZVswXV09ZVsxXSl9cmV0dXJuIGIucGlkPXBhcnNlSW50KGIucGlkLDEwKS0xLGIucGlkPDAmJihiLnBpZD0wKSxifSxHZD1mdW5jdGlvbigpe2lmKHNkJiZjbGVhclRpbWVvdXQoc2QpLCRifHxXKXJldHVybiB2b2lkKHNkPXNldFRpbWVvdXQoR2QsNTAwKSk7dGQ/Y2xlYXJUaW1lb3V0KHJkKTp0ZD0hMDt2YXIgYT13ZCtcIiZnaWQ9XCIraS5nYWxsZXJ5VUlEK1wiJnBpZD1cIisobSsxKTt4ZHx8LTE9PT1BZC5oYXNoLmluZGV4T2YoYSkmJih6ZD0hMCk7dmFyIGI9QWQuaHJlZi5zcGxpdChcIiNcIilbMF0rXCIjXCIrYTtCZD9cIiNcIithIT09d2luZG93LmxvY2F0aW9uLmhhc2gmJmhpc3RvcnlbeGQ/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXShcIlwiLGRvY3VtZW50LnRpdGxlLGIpOnhkP0FkLnJlcGxhY2UoYik6QWQuaGFzaD1hLHhkPSEwLHJkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0ZD0hMX0sNjApfTt5YihcIkhpc3RvcnlcIix7cHVibGljTWV0aG9kczp7aW5pdEhpc3Rvcnk6ZnVuY3Rpb24oKXtpZihlLmV4dGVuZChpLENkLCEwKSxpLmhpc3Rvcnkpe0FkPXdpbmRvdy5sb2NhdGlvbix6ZD0hMSx5ZD0hMSx4ZD0hMSx3ZD1EZCgpLEJkPVwicHVzaFN0YXRlXCJpbiBoaXN0b3J5LHdkLmluZGV4T2YoXCJnaWQ9XCIpPi0xJiYod2Q9d2Quc3BsaXQoXCImZ2lkPVwiKVswXSx3ZD13ZC5zcGxpdChcIj9naWQ9XCIpWzBdKSxCYihcImFmdGVyQ2hhbmdlXCIsZi51cGRhdGVVUkwpLEJiKFwidW5iaW5kRXZlbnRzXCIsZnVuY3Rpb24oKXtlLnVuYmluZCh3aW5kb3csXCJoYXNoY2hhbmdlXCIsZi5vbkhhc2hDaGFuZ2UpfSk7dmFyIGE9ZnVuY3Rpb24oKXt2ZD0hMCx5ZHx8KHpkP2hpc3RvcnkuYmFjaygpOndkP0FkLmhhc2g9d2Q6QmQ/aGlzdG9yeS5wdXNoU3RhdGUoXCJcIixkb2N1bWVudC50aXRsZSxBZC5wYXRobmFtZStBZC5zZWFyY2gpOkFkLmhhc2g9XCJcIiksRWQoKX07QmIoXCJ1bmJpbmRFdmVudHNcIixmdW5jdGlvbigpe2wmJmEoKX0pLEJiKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7dmR8fGEoKX0pLEJiKFwiZmlyc3RVcGRhdGVcIixmdW5jdGlvbigpe209RmQoKS5waWR9KTt2YXIgYj13ZC5pbmRleE9mKFwicGlkPVwiKTtiPi0xJiYod2Q9d2Quc3Vic3RyaW5nKDAsYiksXCImXCI9PT13ZC5zbGljZSgtMSkmJih3ZD13ZC5zbGljZSgwLC0xKSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtqJiZlLmJpbmQod2luZG93LFwiaGFzaGNoYW5nZVwiLGYub25IYXNoQ2hhbmdlKX0sNDApfX0sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIERkKCk9PT13ZD8oeWQ9ITAsdm9pZCBmLmNsb3NlKCkpOnZvaWQodGR8fCh1ZD0hMCxmLmdvVG8oRmQoKS5waWQpLHVkPSExKSl9LHVwZGF0ZVVSTDpmdW5jdGlvbigpe0VkKCksdWR8fCh4ZD9xZD1zZXRUaW1lb3V0KEdkLDgwMCk6R2QoKSl9fX0pLGUuZXh0ZW5kKGYsZGMpfTtyZXR1cm4gYX0pOyIsInZhciBkZWxlZ2F0ZUV2ZW50ID0gcmVxdWlyZSgnLi4vX2RlbGVnYXRlLWV2ZW50L19kZWxlZ2F0ZS1ldmVudC5qcycpLFxuXG4gICAgJF9zZWFyY2hQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gnKSxcbiAgICAkX3NlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoX19mb3JtJyksXG4gICAgJF9zZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2hfX2lucHV0JyksXG4gICAgJF9zZWFyY2hDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2hfX2Nsb3NlJyksXG5cbiAgICBfY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJF9zZWFyY2hQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCctYWN0aXZlJyk7XG4gICAgICAgICRfc2VhcmNoSW5wdXQuYmx1cigpO1xuICAgICAgICAkX3NlYXJjaElucHV0LnZhbHVlID0gJyc7XG4gICAgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuICAgIGRlbGVnYXRlRXZlbnQoZG9jdW1lbnQsICcuc2VhcmNoLXRyaWdnZXInLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAkX3NlYXJjaFBhbmVsLmNsYXNzTGlzdC5hZGQoJy1hY3RpdmUnKTtcbiAgICAgICAgJF9zZWFyY2hJbnB1dC5mb2N1cygpO1xuICAgIH0pO1xuXG4gICAgJF9zZWFyY2hGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgJF9zZWFyY2hJbnB1dC52YWx1ZSA9ICdzaXRlOnN5c29ldi5vcmcgJyArICRfc2VhcmNoSW5wdXQudmFsdWU7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9jbG9zZSgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgfSk7XG5cbiAgICAkX3NlYXJjaENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBfY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICBfY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuIiwicmVxdWlyZSgnLi4vY29tcG9uZW50cy9fc2VhcmNoL19zZWFyY2guanMnKSgpO1xuXG52YXIgUGhvdG9Td2lwZSA9IHJlcXVpcmUoJy4uL2NvbXBvbmVudHMvX3Bob3Rvc3dpcGUvcGhvdG9zd2lwZS5taW4uanMnKSxcbiAgICBQaG90b1N3aXBlVUlfRGVmYXVsdCA9IHJlcXVpcmUoJy4uL2NvbXBvbmVudHMvX3Bob3Rvc3dpcGUvcGhvdG9zd2lwZS11aS1kZWZhdWx0Lm1pbi5qcycpLFxuICAgIGRlbGVnYXRlRXZlbnQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL19kZWxlZ2F0ZS1ldmVudC9fZGVsZWdhdGUtZXZlbnQuanMnKSxcblxuICAgIHBzd3BFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBzd3AnKSxcblxuICAgIG9wZW5QaG90b1N3aXBlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIGl0ZW0sIHNpemUsIGdhbGxlcnk7XG5cbiAgICAgICAgc2l6ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNpemUnKS5zcGxpdCgneCcpO1xuXG4gICAgICAgIGl0ZW1zID0gW3tcbiAgICAgICAgICAgIHNyYzogdGhpcy5ocmVmLFxuICAgICAgICAgICAgdzogc2l6ZVswXSxcbiAgICAgICAgICAgIGg6IHNpemVbMV0sXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGVzYycpXG4gICAgICAgIH1dO1xuXG4gICAgICAgIGdhbGxlcnkgPSBuZXcgUGhvdG9Td2lwZShwc3dwRWxlbWVudCwgUGhvdG9Td2lwZVVJX0RlZmF1bHQsIGl0ZW1zLCB7fSk7XG4gICAgICAgIGdhbGxlcnkuaW5pdCgpO1xuICAgIH07XG5cbmRlbGVnYXRlRXZlbnQoZG9jdW1lbnQsICcubGlnaHRib3gtdGFyZ2V0JywgJ2NsaWNrJywgb3BlblBob3RvU3dpcGUpO1xuIl19
